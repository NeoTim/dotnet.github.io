<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Interface IDisposable
   | CoreCLR site </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Interface IDisposable
   | CoreCLR site ">
    
    <link rel="shortcut icon" href="../images/Logo_DotNet.png" type="image/x-icon">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/style.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-63735192-1', 'auto');
    ga('send', 'pageview');
    </script>
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav class="navbar navbar-inverse">
             <div class="container">
               <a href="../"><img height="50px" src="../images/Logo_DotNet.png" style="float:right;"></a>
               <div class="navbar-header ">
                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
                 <a class="navbar-brand" href="../"><span class="dotnet">.NET Core</span></a>
               </div>
               <div id="navbar" class="collapse navbar-collapse">
               </div><!--/.nav-collapse -->
             </div>
           </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_IDisposable.md&amp;value=---%0Auid%3A%20System.IDisposable%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="pull-right mobile-hide"><span class="fa fa-github"></span>Improve this Doc</a>
              <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/IDisposable.cs/#L54" class="pull-right mobile-hide">View Source</a>
              <h1 id="System_IDisposable" data-uid="System.IDisposable">Interface IDisposable
              </h1>
              <div class="markdown level0 summary"><p>Provides a mechanism for releasing unmanaged resources.</p>
<p>To browse the .NET Framework source code for this type, see the <see href="http://referencesource.microsoft.com/#mscorlib/system/idisposable.cs#1f55292c3174123d">Reference Source</see>.</p>
</div>
              <div class="markdown level0 conceptual"></div>
              <h6><strong>Namespace</strong>:System</h6>
              <h6><strong>Assembly</strong>:System.Runtime.dll</h6>
              <h5 id="System_IDisposable_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">[ComVisible(true)]
public interface IDisposable</code></pre>
              </div>
              <h5 id="System_IDisposable_examples"><strong>Examples</strong></h5>
              <p>The following example demonstrates how to create a resource class that implements the <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a> interface.</p>System.IDisposable.Dispose Example#1
              <h3 id="methods">Methods
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_IDisposable_Dispose.md&amp;value=---%0Auid%3A%20System.IDisposable.Dispose%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/IDisposable.cs/#L56">View Source</a>
              </span>
              <h4 id="System_IDisposable_Dispose" data-uid="System.IDisposable.Dispose">Dispose()</h4>
              <div class="markdown level1 summary"><p>Performs application-defined tasks associated with freeing, releasing, or resetting unmanaged resources.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_IDisposable_Dispose_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Use this method to close or release unmanaged resources such as files, streams, and handles held by an instance of the class that implements this interface. By convention, this method is used for all tasks associated with freeing resources held by an object, or preparing an object for reuse.</p>
<p>If you are using a class that implements the <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a> interface, you should call its <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> implementation when you are finished using the class. For more information, see the &quot;Using an object that implements IDisposable&quot; section in the <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a> topic. </p>
<p>When implementing this method, ensure that all held resources are freed by propagating the call through the containment hierarchy. For example, if an object A allocates an object B, and object B allocates an object C, then A&#39;s <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> implementation must call <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> on B, which must in turn call <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> on C. </p>
<p>The C++ compiler supports deterministic disposal of resources and does not allow direct implementation of the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method. </p>
<p>An object must also call the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method of its base class if the base class implements <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a>. For more information about implementing <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a> on a base class and its subclasses, see the &quot;IDisposable and the inheritance hierarchy&quot; section in the <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a> topic. </p>
<p>If an object&#39;s <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method is called more than once, the object must ignore all calls after the first one. The object must not throw an exception if its <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method is called multiple times. Instance methods other than <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> can throw an <a class="xref" href="System.ObjectDisposedException.html#System_ObjectDisposedException">ObjectDisposedException</a> when resources are already disposed.</p>
<p>Users might expect a resource type to use a particular convention to denote an allocated state versus a freed state. An example of this is stream classes, which are traditionally thought of as open or closed. The implementer of a class that has such a convention might choose to implement a public method with a customized name, such as <code>Close</code>, that calls the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method.</p>
<p>Because the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method must be called explicitly, there is always a danger that the unmanaged resources will not be released, because the consumer of an object fails to call its <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method. There are two ways to avoid this: </p>
<ul><li>
<p>Wrap the managed resource in an object derived from <a class="xref" href="System.Runtime.InteropServices.SafeHandle.html#System_Runtime_InteropServices_SafeHandle">SafeHandle</a>. Your <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> implementation then calls the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method of the <a class="xref" href="System.Runtime.InteropServices.SafeHandle.html#System_Runtime_InteropServices_SafeHandle">SafeHandle</a> instances. For more information, see &quot;The SafeHandle alternative&quot; section in the <a class="xref" href="System.Object.html#System_Object_Finalize">Finalize()</a> topic. </p>
</li><li>
<p>Implement a finalizer to free resources when <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> is not called. By default, the garbage collector automatically calls an object&#39;s finalizer before reclaiming its memory. However, if the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method has been called, it is typically unnecessary for the garbage collector to call the disposed object&#39;s finalizer. To prevent automatic finalization, <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> implementations can call the <a class="xref" href="System.GC.html#System_GC_SuppressFinalize_System_Object_">SuppressFinalize(Object)</a> method. </p>
</li></ul>
<p>When you use an object that accesses unmanaged resources, such as a <a class="xref" href="System.IO.StreamWriter.html#System_IO_StreamWriter">StreamWriter</a>, a good practice is to create the instance with a <strong>using</strong> statement. The <strong>using</strong> statement automatically closes the stream and calls <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> on the object when the code that is using it has completed. For an example, see the <a class="xref" href="System.IO.StreamWriter.html#System_IO_StreamWriter">StreamWriter</a> class.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">void Dispose()</code></pre>
              </div>
              <h5 id="System_IDisposable_Dispose_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Use this method to close or release unmanaged resources such as files, streams, and handles held by an instance of the class that implements this interface. By convention, this method is used for all tasks associated with freeing resources held by an object, or preparing an object for reuse.</p>
<p>If you are using a class that implements the <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a> interface, you should call its <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> implementation when you are finished using the class. For more information, see the &quot;Using an object that implements IDisposable&quot; section in the <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a> topic. </p>
<p>When implementing this method, ensure that all held resources are freed by propagating the call through the containment hierarchy. For example, if an object A allocates an object B, and object B allocates an object C, then A&#39;s <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> implementation must call <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> on B, which must in turn call <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> on C. </p>
<p>The C++ compiler supports deterministic disposal of resources and does not allow direct implementation of the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method. </p>
<p>An object must also call the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method of its base class if the base class implements <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a>. For more information about implementing <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a> on a base class and its subclasses, see the &quot;IDisposable and the inheritance hierarchy&quot; section in the <a class="xref" href="System.IDisposable.html#System_IDisposable">IDisposable</a> topic. </p>
<p>If an object&#39;s <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method is called more than once, the object must ignore all calls after the first one. The object must not throw an exception if its <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method is called multiple times. Instance methods other than <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> can throw an <a class="xref" href="System.ObjectDisposedException.html#System_ObjectDisposedException">ObjectDisposedException</a> when resources are already disposed.</p>
<p>Users might expect a resource type to use a particular convention to denote an allocated state versus a freed state. An example of this is stream classes, which are traditionally thought of as open or closed. The implementer of a class that has such a convention might choose to implement a public method with a customized name, such as <code>Close</code>, that calls the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method.</p>
<p>Because the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method must be called explicitly, there is always a danger that the unmanaged resources will not be released, because the consumer of an object fails to call its <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method. There are two ways to avoid this: </p>
<ul><li>
<p>Wrap the managed resource in an object derived from <a class="xref" href="System.Runtime.InteropServices.SafeHandle.html#System_Runtime_InteropServices_SafeHandle">SafeHandle</a>. Your <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> implementation then calls the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method of the <a class="xref" href="System.Runtime.InteropServices.SafeHandle.html#System_Runtime_InteropServices_SafeHandle">SafeHandle</a> instances. For more information, see &quot;The SafeHandle alternative&quot; section in the <a class="xref" href="System.Object.html#System_Object_Finalize">Finalize()</a> topic. </p>
</li><li>
<p>Implement a finalizer to free resources when <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> is not called. By default, the garbage collector automatically calls an object&#39;s finalizer before reclaiming its memory. However, if the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method has been called, it is typically unnecessary for the garbage collector to call the disposed object&#39;s finalizer. To prevent automatic finalization, <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> implementations can call the <a class="xref" href="System.GC.html#System_GC_SuppressFinalize_System_Object_">SuppressFinalize(Object)</a> method. </p>
</li></ul>
<p>When you use an object that accesses unmanaged resources, such as a <a class="xref" href="System.IO.StreamWriter.html#System_IO_StreamWriter">StreamWriter</a>, a good practice is to create the instance with a <strong>using</strong> statement. The <strong>using</strong> statement automatically closes the stream and calls <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> on the object when the code that is using it has completed. For an example, see the <a class="xref" href="System.IO.StreamWriter.html#System_IO_StreamWriter">StreamWriter</a> class.</p>
</div>
              <h5 id="System_IDisposable_Dispose_examples">Examples</h5>
              
<p>The following example shows how you can implement the <a class="xref" href="System.IDisposable.html#System_IDisposable_Dispose">Dispose()</a> method.</p>System.IDisposable.Dispose Example#1
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="inner-footer">
          <p>© .NET Foundation</p>
          <p>
            <a href="https://www.github.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-github fa-stack-1x"></span>
            </span></a>
            <a href="https://twitter.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-twitter fa-stack-1x"></span>
            </span></a>
            <a href="https://www.facebook.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-facebook fa-stack-1x"></span>
            </span></a>
      
          </p>
          </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
