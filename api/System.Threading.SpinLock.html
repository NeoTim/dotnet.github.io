<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Struct SpinLock
   | CoreCLR site </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Struct SpinLock
   | CoreCLR site ">
    
    <link rel="shortcut icon" href="../images/Logo_DotNet.png" type="image/x-icon">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/style.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-63735192-1', 'auto');
    ga('send', 'pageview');
    </script>
  </head>  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav class="navbar navbar-inverse">
             <div class="container">
               <a href="../"><img height="50px" src="../images/Logo_DotNet.png" style="float:right;"></a>
               <div class="navbar-header ">
                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
                 <a class="navbar-brand" href="../"><span class="dotnet">.NET Core</span></a>
               </div>
               <div id="navbar" class="collapse navbar-collapse">
               </div><!--/.nav-collapse -->
             </div>
           </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="pull-right mobile-hide"><span class="fa fa-github"></span>Improve this Doc</a>
              <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L285" class="pull-right mobile-hide">View Source</a>
              <h1 id="System_Threading_SpinLock" data-uid="System.Threading.SpinLock">Struct SpinLock
              </h1>
              <div class="markdown level0 summary"><p>Provides a mutual exclusion lock primitive where a thread trying to acquire the lock waits in a loop repeatedly checking until the lock becomes available.</p>
</div>
              <div class="markdown level0 conceptual"></div>
              <h6><strong>Namespace</strong>:System.Threading</h6>
              <h6><strong>Assembly</strong>:System.Threading.dll</h6>
              <h5 id="System_Threading_SpinLock_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public struct SpinLock</code></pre>
              </div>
              <h5 id="System_Threading_SpinLock_remarks"><strong>Remarks</strong></h5>
              <div class="markdown level0 remarks"><p>For an example of how to use a Spin Lock, see How to: Use SpinLock for Low-Level Synchronization.</p>
<p>Spin locks can be used for leaf-level locks where the object allocation implied by using a <a class="xref" href="System.Threading.Monitor.html#System_Threading_Monitor">Monitor</a>, in size or due to garbage collection pressure, is overly expensive. A spin lock can be useful in to avoid blocking; however, if you expect a significant amount of blocking, you should probably not use spin locks due to excessive spinning. Spinning can be beneficial when locks are fine-grained and large in number (for example, a lock per node in a linked list) and also when lock hold-times are always extremely short. In general, while holding a spin lock, one should avoid any of these actions:</p>
<ul><li>
<p>blocking, </p>
</li><li>
<p>calling anything that itself may block, </p>
</li><li>
<p>holding more than one spin lock at once, </p>
</li><li>
<p>making dynamically dispatched calls (interface and virtuals), </p>
</li><li>
<p>making statically dispatched calls into any code one doesn&#39;t own, or </p>
</li><li>
<p>allocating memory. </p>
</li></ul>
<p>
<a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> should only be used after you have been determined that doing so will improve an application&#39;s performance. It is also important to note that <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> is a value type, for performance reasons. For this reason, you must be very careful not to accidentally copy a <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> instance, as the two instances (the original and the copy) would then be completely independent of one another, which would likely lead to erroneous behavior of the application. If a <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> instance must be passed around, it should be passed by reference rather than by value. </p>
<p>Do not store <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> instances in readonly fields. </p>
</div>
              <h3 id="constructors">Constructors
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock__ctor_System_Boolean_.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.%23ctor(System.Boolean)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L288">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock__ctor_System_Boolean_" data-uid="System.Threading.SpinLock.#ctor(System.Boolean)">SpinLock(Boolean)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> structure with the option to track thread IDs to improve debugging.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_SpinLock__ctor_System_Boolean__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The default constructor for <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> tracks thread ownership.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public SpinLock(bool enableThreadOwnerTracking)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><em>enableThreadOwnerTracking</em></td>
                    <td><p>Whether to capture and use thread IDs for debugging purposes.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h3 id="properties">Properties
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock_IsHeld.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.IsHeld%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L289">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock_IsHeld" data-uid="System.Threading.SpinLock.IsHeld">IsHeld</h4>
              <div class="markdown level1 summary"><p>Gets whether the lock is currently held by any thread.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public bool IsHeld { get; }</code></pre>
              </div>
              <h5 class="propertyValue"></h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><p>true if the lock is currently held by any thread; otherwise false.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock_IsHeldByCurrentThread.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.IsHeldByCurrentThread%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L290">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock_IsHeldByCurrentThread" data-uid="System.Threading.SpinLock.IsHeldByCurrentThread">IsHeldByCurrentThread</h4>
              <div class="markdown level1 summary"><p>Gets whether the lock is held by the current thread.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_SpinLock_IsHeldByCurrentThread_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>If the lock was initialized to track owner threads, this will return whether the lock is acquired by the current thread. It is invalid to use this property when the lock was initialized to not track thread ownership.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public bool IsHeldByCurrentThread { get; }</code></pre>
              </div>
              <h5 class="propertyValue"></h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><p>true if the lock is held by the current thread; otherwise false.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.InvalidOperationException.html#System_InvalidOperationException">InvalidOperationException</a></td>
                    <td><p>Thread ownership tracking is disabled.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock_IsThreadOwnerTrackingEnabled.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.IsThreadOwnerTrackingEnabled%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L291">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock_IsThreadOwnerTrackingEnabled" data-uid="System.Threading.SpinLock.IsThreadOwnerTrackingEnabled">IsThreadOwnerTrackingEnabled</h4>
              <div class="markdown level1 summary"><p>Gets whether thread ownership tracking is enabled for this instance.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public bool IsThreadOwnerTrackingEnabled { get; }</code></pre>
              </div>
              <h5 class="propertyValue"></h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><p>true if thread ownership tracking is enabled for this instance; otherwise false.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h3 id="methods">Methods
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock_Enter_System_Boolean__.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.Enter(System.Boolean%40)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L292">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock_Enter_System_Boolean__" data-uid="System.Threading.SpinLock.Enter(System.Boolean@)">Enter(ref Boolean)</h4>
              <div class="markdown level1 summary"><p>Acquires the lock in a reliable manner, such that even if an exception occurs within the method call, <em>lockTaken</em> can be examined reliably to determine whether the lock was acquired.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_SpinLock_Enter_System_Boolean___remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>
<a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> is a non-reentrant lock, meaning that if a thread holds the lock, it is not allowed to enter the lock again. If thread ownership tracking is enabled (whether it&#39;s enabled is available through <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_IsThreadOwnerTrackingEnabled">IsThreadOwnerTrackingEnabled</a>), an exception will be thrown when a thread tries to re-enter a lock it already holds. However, if thread ownership tracking is disabled, attempting to enter a lock already held will result in deadlock.</p>
<p>If you call <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Exit">Exit()</a> without having first called <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Enter_System_Boolean__">Enter(ref Boolean)</a> the internal state of the <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> can become corrupted.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Enter(ref bool lockTaken)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><em>lockTaken</em></td>
                    <td><p>True if the lock is acquired; otherwise, false. <em>lockTaken</em> must be initialized to false prior to calling this method.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentException.html#System_ArgumentException">ArgumentException</a></td>
                    <td><p>The <em>lockTaken</em> argument must be initialized to false prior to calling Enter.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.LockRecursionException.html#System_Threading_LockRecursionException">LockRecursionException</a></td>
                    <td><p>Thread ownership tracking is enabled, and the current thread has already acquired this lock.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock_Exit.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.Exit%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L293">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock_Exit" data-uid="System.Threading.SpinLock.Exit">Exit()</h4>
              <div class="markdown level1 summary"><p>Releases the lock.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_SpinLock_Exit_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The default overload of <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Exit">Exit()</a> provides the same behavior as if calling <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Exit_System_Boolean_">Exit(Boolean)</a> using true as the argument.</p>
<p>If you call <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Exit">Exit()</a> without having first called <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Enter_System_Boolean__">Enter(ref Boolean)</a>  the internal state of the <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> can become corrupted.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Exit()</code></pre>
              </div>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Threading.SynchronizationLockException.html#System_Threading_SynchronizationLockException">SynchronizationLockException</a></td>
                    <td><p>Thread ownership tracking is enabled, and the current thread is not the owner of this lock.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock_Exit_System_Boolean_.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.Exit(System.Boolean)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L294">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock_Exit_System_Boolean_" data-uid="System.Threading.SpinLock.Exit(System.Boolean)">Exit(Boolean)</h4>
              <div class="markdown level1 summary"><p>Releases the lock.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_SpinLock_Exit_System_Boolean__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Calling <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Exit_System_Boolean_">Exit(Boolean)</a> with the <em>useMemoryBarrier</em> argument set to true will improve the fairness of the lock at the expense of some performance. The default <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Exit">Exit()</a> overload behaves as if specifying true for <em>useMemoryBarrier</em>.</p>
<p>If you call <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Exit">Exit()</a> without having first called <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Enter_System_Boolean__">Enter(ref Boolean)</a> the internal state of the <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock">SpinLock</a> can become corrupted.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Exit(bool useMemoryBarrier)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><em>useMemoryBarrier</em></td>
                    <td><p>A Boolean value that indicates whether a memory fence should be issued in order to immediately publish the exit operation to other threads.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Threading.SynchronizationLockException.html#System_Threading_SynchronizationLockException">SynchronizationLockException</a></td>
                    <td><p>Thread ownership tracking is enabled, and the current thread is not the owner of this lock.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock_TryEnter_System_Boolean__.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.TryEnter(System.Boolean%40)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L295">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock_TryEnter_System_Boolean__" data-uid="System.Threading.SpinLock.TryEnter(System.Boolean@)">TryEnter(ref Boolean)</h4>
              <div class="markdown level1 summary"><p>Attempts to acquire the lock in a reliable manner, such that even if an exception occurs within the method call, <em>lockTaken</em> can be examined reliably to determine whether the lock was acquired.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_SpinLock_TryEnter_System_Boolean___remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Unlike <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Enter_System_Boolean__">Enter(ref Boolean)</a>, TryEnter will not block waiting for the lock to be available. If the lock is not available when TryEnter is called, it will return immediately without any further spinning.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void TryEnter(ref bool lockTaken)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><em>lockTaken</em></td>
                    <td><p>True if the lock is acquired; otherwise, false. <em>lockTaken</em> must be initialized to false prior to calling this method.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentException.html#System_ArgumentException">ArgumentException</a></td>
                    <td><p>The <em>lockTaken</em> argument must be initialized to false prior to calling TryEnter.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.LockRecursionException.html#System_Threading_LockRecursionException">LockRecursionException</a></td>
                    <td><p>Thread ownership tracking is enabled, and the current thread has already acquired this lock.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock_TryEnter_System_Int32_System_Boolean__.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.TryEnter(System.Int32%2CSystem.Boolean%40)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L296">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock_TryEnter_System_Int32_System_Boolean__" data-uid="System.Threading.SpinLock.TryEnter(System.Int32,System.Boolean@)">TryEnter(Int32, ref Boolean)</h4>
              <div class="markdown level1 summary"><p>Attempts to acquire the lock in a reliable manner, such that even if an exception occurs within the method call, <em>lockTaken</em> can be examined reliably to determine whether the lock was acquired.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_SpinLock_TryEnter_System_Int32_System_Boolean___remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Unlike <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Enter_System_Boolean__">Enter(ref Boolean)</a>, TryEnter will not block indefinitely waiting for the lock to be available. It will block until either the lock is available or until the <em>millisecondsTimeout</em> has expired.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void TryEnter(int millisecondsTimeout, ref bool lockTaken)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td><em>millisecondsTimeout</em></td>
                    <td><p>The number of milliseconds to wait, or <a class="xref" href="System.Threading.Timeout.html#System_Threading_Timeout_Infinite">Infinite</a> (-1) to wait indefinitely.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><em>lockTaken</em></td>
                    <td><p>True if the lock is acquired; otherwise, false. <em>lockTaken</em> must be initialized to false prior to calling this method.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentOutOfRangeException.html#System_ArgumentOutOfRangeException">ArgumentOutOfRangeException</a></td>
                    <td><p>
<em>millisecondsTimeout</em> is a negative number other than -1, which represents an infinite time-out.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.ArgumentException.html#System_ArgumentException">ArgumentException</a></td>
                    <td><p>The <em>lockTaken</em> argument must be initialized to false prior to calling TryEnter.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.LockRecursionException.html#System_Threading_LockRecursionException">LockRecursionException</a></td>
                    <td><p>Thread ownership tracking is enabled, and the current thread has already acquired this lock.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_SpinLock_TryEnter_System_TimeSpan_System_Boolean__.md&amp;value=---%0Auid%3A%20System.Threading.SpinLock.TryEnter(System.TimeSpan%2CSystem.Boolean%40)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Threading/ref/System.Threading.cs/#L297">View Source</a>
              </span>
              <h4 id="System_Threading_SpinLock_TryEnter_System_TimeSpan_System_Boolean__" data-uid="System.Threading.SpinLock.TryEnter(System.TimeSpan,System.Boolean@)">TryEnter(TimeSpan, ref Boolean)</h4>
              <div class="markdown level1 summary"><p>Attempts to acquire the lock in a reliable manner, such that even if an exception occurs within the method call, <em>lockTaken</em> can be examined reliably to determine whether the lock was acquired.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_SpinLock_TryEnter_System_TimeSpan_System_Boolean___remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Unlike <a class="xref" href="System.Threading.SpinLock.html#System_Threading_SpinLock_Enter_System_Boolean__">Enter(ref Boolean)</a>, TryEnter will not block indefinitely waiting for the lock to be available. It will block until either the lock is available or until the <em>timeout</em> has expired.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void TryEnter(TimeSpan timeout, ref bool lockTaken)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.TimeSpan.html#System_TimeSpan">TimeSpan</a></td>
                    <td><em>timeout</em></td>
                    <td><p>A <a class="xref" href="System.TimeSpan.html#System_TimeSpan">TimeSpan</a> that represents the number of milliseconds to wait, or a <a class="xref" href="System.TimeSpan.html#System_TimeSpan">TimeSpan</a> that represents -1 milliseconds to wait indefinitely.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><em>lockTaken</em></td>
                    <td><p>True if the lock is acquired; otherwise, false. <em>lockTaken</em> must be initialized to false prior to calling this method.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentOutOfRangeException.html#System_ArgumentOutOfRangeException">ArgumentOutOfRangeException</a></td>
                    <td><p>
<em>timeout</em> is a negative number other than -1 milliseconds, which represents an infinite time-out -or- timeout is greater than <a class="xref" href="System.Int32.html#System_Int32_MaxValue">MaxValue</a> milliseconds.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.ArgumentException.html#System_ArgumentException">ArgumentException</a></td>
                    <td><p>The <em>lockTaken</em> argument must be initialized to false prior to calling TryEnter.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.LockRecursionException.html#System_Threading_LockRecursionException">LockRecursionException</a></td>
                    <td><p>Thread ownership tracking is enabled, and the current thread has already acquired this lock.</p>
</td>
                  </tr>
                </tbody>
              </table>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="inner-footer">
          <p>© .NET Foundation</p>
          <p>
            <a href="https://www.github.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-github fa-stack-1x"></span>
            </span></a>
            <a href="https://twitter.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-twitter fa-stack-1x"></span>
            </span></a>
            <a href="https://www.facebook.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-facebook fa-stack-1x"></span>
            </span></a>
      
          </p>
          </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
