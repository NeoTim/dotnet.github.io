<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class NullReferenceException
   | CoreCLR site </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class NullReferenceException
   | CoreCLR site ">
    
    <link rel="shortcut icon" href="../images/Logo_DotNet.png" type="image/x-icon">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/style.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-63735192-1', 'auto');
    ga('send', 'pageview');
    </script>
  </head>  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav class="navbar navbar-inverse">
             <div class="container">
               <a href="../"><img height="50px" src="../images/Logo_DotNet.png" style="float:right;"></a>
               <div class="navbar-header ">
                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
                 <a class="navbar-brand" href="../"><span class="dotnet">.NET Core</span></a>
               </div>
               <div id="navbar" class="collapse navbar-collapse">
               </div><!--/.nav-collapse -->
             </div>
           </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_NullReferenceException.md&amp;value=---%0Auid%3A%20System.NullReferenceException%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="pull-right mobile-hide"><span class="fa fa-github"></span>Improve this Doc</a>
              <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1303" class="pull-right mobile-hide">View Source</a>
              <h1 id="System_NullReferenceException" data-uid="System.NullReferenceException">Class NullReferenceException
              </h1>
              <div class="markdown level0 summary"><p>The exception that is thrown when there is an attempt to dereference a null object reference.</p>
</div>
              <div class="markdown level0 conceptual"></div>
              <div class="inheritance">
                <h5>Inheritance</h5>
                  <div class="level0"><a class="xref" href="System.Object.html#System_Object">Object</a></div>
                  <div class="level1"><a class="xref" href="System.Exception.html#System_Exception">Exception</a></div>
                  <div class="level2"><span class="xref">NullReferenceException</span></div>
              </div>
              <h6><strong>Namespace</strong>:System</h6>
              <h6><strong>Assembly</strong>:System.Runtime.dll</h6>
              <h5 id="System_NullReferenceException_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public class NullReferenceException : Exception</code></pre>
              </div>
              <h5 id="System_NullReferenceException_remarks"><strong>Remarks</strong></h5>
              <div class="markdown level0 remarks"><p><p>A <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> exception is thrown when you try to access a member on a type whose value is <strong>null</strong>. A <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> exception typically reflects developer error and is thrown in the following scenarios: </p></p>
<ul><li>
<p>You&#39;ve forgotten to instantiate a reference type. In the following example, <em>names</em> is declared but never instantiated: </p>System.NullReferenceException.Class#1<p>Some compilers issue a warning when they compile this code. Others issue an error, and the compilation fails. To address this problem, instantiate the object so that its value is no longer <strong>null</strong>. The following example does this by calling a type&#39;s class constructor.</p>System.NullReferenceException.Class#2</li><li>
<p>You&#39;ve forgotten to dimension an array before initializing it. In the following example, <code>values</code> is declared to be an integer array, but the number of elements that it contains is never specified. The attempt to initialize its values therefore thrown a  <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> exception. </p>System.NullReferenceException.Class#10<p>You can eliminate the exception by declaring the number of elements in the array before initializing it, as the following example does. </p>System.NullReferenceException.Class#11<p>For more information on declaring and initializing arrays, see Arrays (C# Programming Guide) and Arrays in Visual Basic. </p></li><li>
<p>You get a <strong>null</strong> return value from a method, and then call a method on the returned type. This sometimes is the result of a documentation error; the documentation fails to note that a method call can return <strong>null</strong>. In other cases, your code erroneously assumes that the method will always return a non-<strong>null</strong> value. </p>
<p>The code in the following example assumes that the <a class="xref" href="System.Array.html#System_Array_Find__1___0___System_Predicate___0__">Find<t>(T[], Predicate<t>)</t></t></a> method always returns <code>Person</code> object whose <code>FirstName</code> field matches a search string. Because there is no match, the runtime throws a <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> exception. </p>System.NullReferenceException.Class#4<p>To address this problem, test the method&#39;s return value to ensure that it is not <strong>null</strong> before calling any of its members, as the following example does. </p>System.NullReferenceException.Class#5</li><li>
<p>You&#39;re using an expression (for example, you&#39;re chaining a list of methods or properties together) to retrieve a value and, although you&#39;re checking whether the value is <strong>null</strong>, the runtime still throws a <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> exception. This occurs because one of the intermediate values in the expression returns <strong>null</strong>. As a result, your rest for <strong>null</strong> is never evaluated. </p>
<p>The following example defines a <code>Pages</code> object that  caches information about web pages, which are presented by <code>Page</code> objects. The <code>Example.Main</code> method checks whether the current web page has a non-null title and, if it does, displays the title. Despite this check, however, the method throws a <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> exception. </p>System.NullReferenceException.Class#6<p>The exception is thrown because <code>pages.CurrentPage</code> returns <strong>null</strong>   if no page information is  stored in the cache. This exception can be corrected by testing the value of the <code>CurrentPage</code> property before retrieving the current <code>Page</code> object&#39;s <code>Title</code> property, as the following example does: </p>System.NullReferenceException.Class#7</li><li>
<p>You&#39;re enumerating the elements of an array that contains reference types, and your attempt to process one of the elements throws a <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> exception. </p>
<p>The following example defines a string array. A <strong>for</strong> statement enumerates the elements in the array and calls each string&#39;s <a class="xref" href="System.String.html#System_String_Trim">Trim()</a> method before displaying the string. </p>System.NullReferenceException.Class#8<p>This exception occurs if you assume that each element of the array must contain a non-null value, and the value of the array element is in fact <strong>null</strong>. The exception can be eliminated by testing whether the element is <strong>null</strong> before performing any operation on that element, as the following example shows. </p>System.NullReferenceException.Class#9</li><li>
<p>A <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> exception is thrown by a method that is passed <strong>null</strong>. Some methods validate the arguments that are passed to them. If they do and one of the arguments is <strong>null</strong>, the method throws an <a class="xref" href="System.ArgumentNullException.html#System_ArgumentNullException">ArgumentNullException</a> exception. Otherwise, it throws a <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> exception. The following example illustrates this scenario. </p>System.NullReferenceException.Class#3<p>To address this issue, make sure that the argument passed to the method is not <strong>null</strong>, or handle the thrown exception in a <strong>try…catch…finally</strong> block. For more information, see Handling and Throwing Exceptions. </p></li></ul>
<p>The following Microsoft intermediate language (MSIL) instructions throw <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a>: <strong>callvirt</strong>, <strong>cpblk</strong>, <strong>cpobj</strong>, <strong>initblk</strong>, <strong>ldelem.<type></type></strong>, <strong>ldelema</strong>, <strong>ldfld</strong>, <strong>ldflda</strong>, <strong>ldind.<type></type></strong>, <strong>ldlen</strong>, <strong>stelem.<type></type></strong>, <strong>stfld</strong>, <strong>stind.<type></type></strong>, <strong>throw</strong>, and <strong>unbox</strong>.  </p>
<p>
<a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> uses the HRESULT COR_E_NULLREFERENCE, which has the value 0x80004003.</p>
<p>For a list of initial property values for an instance of <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a>, see the <span class="xref">System.NullReferenceException.</span> constructors.</p>
<p>Handling NullReferenceException in release code</p>
<p>It&#39;s usually better to avoid a NullReferenceException than to handle it after it occurs. Handling an exception can make your code harder to maintain and understand, and can sometimes introduce other bugs. A NullReferenceException is often a non-recoverable error. In these cases, letting the exception stop the app might be the best alternative. </p>
<p>However, there are many situations where handling the error can be useful:</p>
<ul><li>
<p>Your app can ignore objects that are null. For example, if your app retrieves and processes records in a database, you might be able to ignore some number of bad records that result in null objects. Recording the bad data in a log file or in the application UI might be all you have to do.</p>
</li><li>
<p>You can recover from the exception. For example, a call to a web service that returns a reference type might return null if the connection is lost or the connection times out. You can attempt to reestablish the connection and try the call again.</p>
</li><li>
<p>You can restore the state of your app to a valid state. For example, you might be performing a multi-step task that requires you to save information to a data store before you call a method that throws a NullReferenceException. If the uninitialized object would corrupt the data record, you can remove the previous data before you close the app. </p>
</li><li>
<p>You want to report the exception. For example, if the error was caused by a mistake from the user of your app, you can generate a message to help him supply the correct information. You can also log information about the error to help you fix the problem. Some frameworks, like ASP.NET, have a high-level exception handler that captures all errors to that the app never crashes; in that case, logging the exception might be the only way you can know that it occurs.</p>
</li></ul>
</div>
              <h3 id="constructors">Constructors
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_NullReferenceException__ctor.md&amp;value=---%0Auid%3A%20System.NullReferenceException.%23ctor%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1305">View Source</a>
              </span>
              <h4 id="System_NullReferenceException__ctor" data-uid="System.NullReferenceException.#ctor">NullReferenceException()</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> class, setting the <a class="xref" href="System.Exception.html#System_Exception_Message">Message</a> property of the new instance to a system-supplied message that describes the error, such as &quot;The value &#39;null&#39; was found where an instance of an object was required.&quot; This message takes into account the current system culture.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_NullReferenceException__ctor_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p><p>The following table shows the initial property values for an instance of <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a>.</p></p>
<p><p>Property </p></p>
<p><p>Value </p></p>
<table><tbody><tr><td>
<p>
<a class="xref" href="System.Exception.html#System_Exception_InnerException">InnerException</a>
</p>
</td><td>
<p>
<strong>null</strong>. </p>
</td></tr><tr><td>
<p>
<a class="xref" href="System.Exception.html#System_Exception_Message">Message</a>
</p>
</td><td>
<p>The localized error message string. </p>
</td></tr></tbody></table>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public NullReferenceException()</code></pre>
              </div>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_NullReferenceException__ctor_System_String_.md&amp;value=---%0Auid%3A%20System.NullReferenceException.%23ctor(System.String)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1306">View Source</a>
              </span>
              <h4 id="System_NullReferenceException__ctor_System_String_" data-uid="System.NullReferenceException.#ctor(System.String)">NullReferenceException(String)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> class with a specified error message.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_NullReferenceException__ctor_System_String__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p><p>The following table shows the initial property values for an instance of <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a>.</p></p>
<p><p>Property </p></p>
<p><p>Value </p></p>
<table><tbody><tr><td>
<p>
<a class="xref" href="System.Exception.html#System_Exception_InnerException">InnerException</a>
</p>
</td><td>
<p>
<strong>null</strong>. </p>
</td></tr><tr><td>
<p>
<a class="xref" href="System.Exception.html#System_Exception_Message">Message</a>
</p>
</td><td>
<p>The error message string. </p>
</td></tr></tbody></table>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public NullReferenceException(string message)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><em>message</em></td>
                    <td><p>A <a class="xref" href="System.String.html#System_String">String</a> that describes the error. The content of <em>message</em> is intended to be understood by humans. The caller of this constructor is required to ensure that this string has been localized for the current system culture. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_NullReferenceException__ctor_System_String_System_Exception_.md&amp;value=---%0Auid%3A%20System.NullReferenceException.%23ctor(System.String%2CSystem.Exception)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1307">View Source</a>
              </span>
              <h4 id="System_NullReferenceException__ctor_System_String_System_Exception_" data-uid="System.NullReferenceException.#ctor(System.String,System.Exception)">NullReferenceException(String, Exception)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a> class with a specified error message and a reference to the inner exception that is the cause of this exception.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_NullReferenceException__ctor_System_String_System_Exception__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p><p>An exception that is thrown as a direct result of a previous exception should include a reference to the previous exception in the <a class="xref" href="System.Exception.html#System_Exception_InnerException">InnerException</a> property. The <a class="xref" href="System.Exception.html#System_Exception_InnerException">InnerException</a> property returns the same value that is passed into the constructor, or <strong>null</strong> if the <a class="xref" href="System.Exception.html#System_Exception_InnerException">InnerException</a> property does not supply the inner exception value to the constructor.</p></p>
<p><p>The following table shows the initial property values for an instance of <a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a>.</p></p>
<p><p>Property </p></p>
<p><p>Value </p></p>
<table><tbody><tr><td>
<p>
<a class="xref" href="System.Exception.html#System_Exception_InnerException">InnerException</a>
</p>
</td><td>
<p>The inner exception reference. </p>
</td></tr><tr><td>
<p>
<a class="xref" href="System.Exception.html#System_Exception_Message">Message</a>
</p>
</td><td>
<p>The error message string. </p>
</td></tr></tbody></table>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public NullReferenceException(string message, Exception innerException)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><em>message</em></td>
                    <td><p>The error message that explains the reason for the exception. </p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Exception.html#System_Exception">Exception</a></td>
                    <td><em>innerException</em></td>
                    <td><p>The exception that is the cause of the current exception. If the <em>innerException</em> parameter is not <strong>null</strong>, the current exception is raised in a <strong>catch</strong> block that handles the inner exception. </p>
</td>
                  </tr>
                </tbody>
              </table>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="inner-footer">
          <p>© .NET Foundation</p>
          <p>
            <a href="https://www.github.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-github fa-stack-1x"></span>
            </span></a>
            <a href="https://twitter.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-twitter fa-stack-1x"></span>
            </span></a>
            <a href="https://www.facebook.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-facebook fa-stack-1x"></span>
            </span></a>
      
          </p>
          </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
