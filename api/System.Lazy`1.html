<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class Lazy&lt;T&gt;
   | CoreCLR site </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class Lazy&lt;T&gt;
   | CoreCLR site ">
    
    <link rel="shortcut icon" href="../images/Logo_DotNet.png" type="image/x-icon">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/style.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-63735192-1', 'auto');
    ga('send', 'pageview');
    </script>
  </head>  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav class="navbar navbar-inverse">
             <div class="container">
               <a href="../"><img height="50px" src="../images/Logo_DotNet.png" style="float:right;"></a>
               <div class="navbar-header ">
                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
                 <a class="navbar-brand" href="../"><span class="dotnet">.NET Core</span></a>
               </div>
               <div id="navbar" class="collapse navbar-collapse">
               </div><!--/.nav-collapse -->
             </div>
           </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1.md&amp;value=---%0Auid%3A%20System.Lazy%601%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="pull-right mobile-hide"><span class="fa fa-github"></span>Improve this Doc</a>
              <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1202" class="pull-right mobile-hide">View Source</a>
              <h1 id="System_Lazy_1" data-uid="System.Lazy`1">Class Lazy&lt;T&gt;
              </h1>
              <div class="markdown level0 summary"><p>Provides support for lazy initialization.</p>
</div>
              <div class="markdown level0 conceptual"></div>
              <div class="inheritance">
                <h5>Inheritance</h5>
                  <div class="level0"><a class="xref" href="System.Object.html#System_Object">Object</a></div>
                  <div class="level1"><span class="xref">Lazy&lt;T&gt;</span></div>
              </div>
              <h6><strong>Namespace</strong>:System</h6>
              <h6><strong>Assembly</strong>:System.Runtime.dll</h6>
              <h5 id="System_Lazy_1_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public class Lazy&lt;T&gt;</code></pre>
              </div>
              <h5 id="System_Lazy_1_remarks"><strong>Remarks</strong></h5>
              <div class="markdown level0 remarks"><p>Use lazy initialization to defer the creation of a large or resource-intensive object, or the execution of a resource-intensive task, particularly when such creation or execution might not occur during the lifetime of the program.</p>
<p>To prepare for lazy initialization, you create an instance of <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a>. The type argument of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object that you create specifies the type of the object that you want to initialize lazily. The constructor that you use to create the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object determines the characteristics of the initialization. Lazy initialization occurs the first time the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property is accessed.</p>
<p>In most cases, choosing a constructor depends on your answers to two questions: </p>
<ul><li>
<p>Will the lazily initialized object be accessed from more than one thread? If so, the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object might create it on any thread. You can use one of the simple constructors whose default behavior is to create a thread-safe <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object, so that only one instance of the lazily instantiated object is created no matter how many threads try to access it. To create a <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object that is not thread safe, you must use a constructor that enables you to specify no thread safety. </p>
<p>Making the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object thread safe does not protect the lazily initialized object. If multiple threads can access the lazily initialized object, you must make its properties and methods safe for multithreaded access. </p>
</li><li>
<p>Does lazy initialization require a lot of code, or does the lazily initialized object have a default constructor that does everything you need and doesn&#39;t throw exceptions? If you need to write initialization code or if exceptions need to be handled, use one of the constructors that takes a factory method. Write your initialization code in the factory method. </p>
</li></ul>
<p>The following table shows which constructor to choose, based on these two factors: </p>
<p>Object will be accessed by </p>
<p>If no initialization code is required (default constructor), use </p>
<p>If initialization code is required, use </p>
<p>You can use a lambda expression to specify the factory method. This keeps all the initialization code in one place. The lambda expression captures the context, including any arguments you pass to the lazily initialized object&#39;s constructor. </p>
<p>Exception caching  When you use factory methods, exceptions are cached. That is, if the factory method throws an exception the first time a thread tries to access the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object, the same exception is thrown on every subsequent attempt. This ensures that every call to the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property produces the same result and avoids subtle errors that might arise if different threads get different results. The <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> stands in for an actual <strong>T</strong> that otherwise would have been initialized at some earlier point, usually during startup. A failure at that earlier point is usually fatal. If there is a potential for a recoverable failure, we recommend that you build the retry logic into the initialization routine (in this case, the factory method), just as you would if you weren’t using lazy initialization.</p>
<p>Alternative to locking  In certain situations, you might want to avoid the overhead of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object&#39;s default locking behavior. In rare situations, there might be a potential for deadlocks. In such cases, you can use the <span class="xref">System.Lazy`1.</span> or <span class="xref">System.Lazy`1.</span> constructor, and specify <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_PublicationOnly">PublicationOnly</a>. This enables the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object to create a copy of the lazily initialized object on each of several threads if the threads call the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property simultaneously. The <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object ensures that all threads use the same instance of the lazily initialized object and discards the instances that are not used. Thus, the cost of reducing the locking overhead is that your program might sometimes create and discard extra copies of an expensive object. In most cases, this is unlikely. The examples for the <span class="xref">System.Lazy`1.</span> and <span class="xref">System.Lazy`1.</span> constructors demonstrate this behavior. </p>
<p>When you specify <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_PublicationOnly">PublicationOnly</a>, exceptions are never cached, even if you specify a factory method. </p>
<p>Equivalent constructors  In addition to enabling the use of <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_PublicationOnly">PublicationOnly</a>, the <span class="xref">System.Lazy`1.</span> and <span class="xref">System.Lazy`1.</span> constructors can duplicate the functionality of the other constructors. The following table shows the parameter values that produce equivalent behavior. </p>
<p>To create a <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> object that is</p>
<p>For constructors that have a <strong>LazyThreadSafetyMode</strong> <em>mode</em> parameter, set <em>mode</em> to</p>
<p>For constructors that have a Boolean <em>isThreadSafe</em> parameter, set <em>isThreadSafe</em> to</p>
<p>For constructors with no thread safety parameters</p>
<p>Other capabilities  For information about the use of <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> with thread-static fields, or as the backing store for properties, see Lazy Initialization.</p>
</div>
              <h3 id="constructors">Constructors
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1__ctor.md&amp;value=---%0Auid%3A%20System.Lazy%601.%23ctor%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1204">View Source</a>
              </span>
              <h4 id="System_Lazy_1__ctor" data-uid="System.Lazy`1.#ctor">Lazy()</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class. When lazy initialization occurs, the default constructor of the target type is used.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Lazy_1__ctor_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>An instance that is created with this constructor may be used concurrently from multiple threads.</p>
<p>The thread safety mode of a <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance that is initialized with this constructor is <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_ExecutionAndPublication">ExecutionAndPublication</a>. The thread safety mode describes the behavior when multiple threads try to initialize the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance.</p>
<p>A <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance that is created with this constructor does not cache exceptions. For more information, see the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a>class or the <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode">LazyThreadSafetyMode</a> enumeration.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Lazy()</code></pre>
              </div>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1__ctor_System_Boolean_.md&amp;value=---%0Auid%3A%20System.Lazy%601.%23ctor(System.Boolean)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1205">View Source</a>
              </span>
              <h4 id="System_Lazy_1__ctor_System_Boolean_" data-uid="System.Lazy`1.#ctor(System.Boolean)">Lazy(Boolean)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class. When lazy initialization occurs, the default constructor of the target type and the specified initialization mode are used.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Lazy_1__ctor_System_Boolean__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The thread safety mode of a <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance that is initialized with this constructor is <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_ExecutionAndPublication">ExecutionAndPublication</a> if <em>isThreadSafe</em> is <strong>true</strong>; otherwise, the mode is <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_None">None</a>. The thread safety mode describes the behavior when multiple threads try to initialize the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance. To specify the <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_PublicationOnly">PublicationOnly</a> mode, use the <span class="xref">System.Lazy`1.</span> or <span class="xref">System.Lazy`1.</span> constructor.</p>
<p>A <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance that is created with this constructor does not cache exceptions. For more information, see the<a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class or the <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode">LazyThreadSafetyMode</a> enumeration.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Lazy(bool isThreadSafe)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><em>isThreadSafe</em></td>
                    <td><p>
<strong>true</strong> to make this instance usable concurrently by multiple threads; <strong>false</strong> to make the instance usable by only one thread at a time. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1__ctor_System_Func__0__.md&amp;value=---%0Auid%3A%20System.Lazy%601.%23ctor(System.Func%7B%600%7D)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1206">View Source</a>
              </span>
              <h4 id="System_Lazy_1__ctor_System_Func__0__" data-uid="System.Lazy`1.#ctor(System.Func{`0})">Lazy(Func&lt;T&gt;)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class. When lazy initialization occurs, the specified initialization function is used.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Lazy_1__ctor_System_Func__0___remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>An instance that is created with this constructor may be used concurrently from multiple threads.</p>
<p>The thread safety mode of a <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance that is initialized with this constructor is <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_ExecutionAndPublication">ExecutionAndPublication</a>. The thread safety mode describes the behavior when multiple threads try to initialize the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance.</p>
<p>Exceptions that are thrown by <em>valueFactory</em> are cached. For more information, see the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class or the <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode">LazyThreadSafetyMode</a> enumeration.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Lazy(Func&lt;T&gt; valueFactory)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Func%601.html#System_Func_1">Func</a>&lt;T&gt;</td>
                    <td><em>valueFactory</em></td>
                    <td><p>The delegate that is invoked to produce the lazily initialized value when it is needed.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentNullException.html#System_ArgumentNullException">ArgumentNullException</a></td>
                    <td><p>
<em>valueFactory</em> is <strong>null</strong>. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1__ctor_System_Func__0__System_Boolean_.md&amp;value=---%0Auid%3A%20System.Lazy%601.%23ctor(System.Func%7B%600%7D%2CSystem.Boolean)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1207">View Source</a>
              </span>
              <h4 id="System_Lazy_1__ctor_System_Func__0__System_Boolean_" data-uid="System.Lazy`1.#ctor(System.Func{`0},System.Boolean)">Lazy(Func&lt;T&gt;, Boolean)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class. When lazy initialization occurs, the specified initialization function and initialization mode are used.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Lazy_1__ctor_System_Func__0__System_Boolean__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The thread safety mode of a <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance that is initialized with this constructor is <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_ExecutionAndPublication">ExecutionAndPublication</a> if <em>isThreadSafe</em> is <strong>true</strong>; otherwise, the mode is <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_None">None</a>. The thread safety mode describes the behavior when multiple threads try to initialize the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance.</p>
<p>To specify the <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_PublicationOnly">PublicationOnly</a> mode, use the <span class="xref">System.Lazy`1.</span> or <span class="xref">System.Lazy`1.</span> constructor.</p>
<p>Exceptions that are thrown by <em>valueFactory</em> are cached. For more information, see the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class or the <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode">LazyThreadSafetyMode</a> enumeration.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Lazy(Func&lt;T&gt; valueFactory, bool isThreadSafe)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Func%601.html#System_Func_1">Func</a>&lt;T&gt;</td>
                    <td><em>valueFactory</em></td>
                    <td><p>The delegate that is invoked to produce the lazily initialized value when it is needed.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><em>isThreadSafe</em></td>
                    <td><p>
<strong>true</strong> to make this instance usable concurrently by multiple threads; <strong>false</strong> to make this instance usable by only one thread at a time.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentNullException.html#System_ArgumentNullException">ArgumentNullException</a></td>
                    <td><p>
<em>valueFactory</em> is <strong>null</strong>. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1__ctor_System_Func__0__System_Threading_LazyThreadSafetyMode_.md&amp;value=---%0Auid%3A%20System.Lazy%601.%23ctor(System.Func%7B%600%7D%2CSystem.Threading.LazyThreadSafetyMode)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1208">View Source</a>
              </span>
              <h4 id="System_Lazy_1__ctor_System_Func__0__System_Threading_LazyThreadSafetyMode_" data-uid="System.Lazy`1.#ctor(System.Func{`0},System.Threading.LazyThreadSafetyMode)">Lazy(Func&lt;T&gt;, LazyThreadSafetyMode)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class that uses the specified initialization function and thread-safety mode.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Lazy_1__ctor_System_Func__0__System_Threading_LazyThreadSafetyMode__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The thread safety mode of a <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance describes the behavior when multiple threads try to initialize the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance.</p>
<p>Exceptions that are thrown by <em>valueFactory</em> are cached, unless <em>mode</em> is <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_PublicationOnly">PublicationOnly</a>. For more information, see the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class or the <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode">LazyThreadSafetyMode</a> enumeration.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Lazy(Func&lt;T&gt; valueFactory, LazyThreadSafetyMode mode)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Func%601.html#System_Func_1">Func</a>&lt;T&gt;</td>
                    <td><em>valueFactory</em></td>
                    <td><p>The delegate that is invoked to produce the lazily initialized value when it is needed.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode">LazyThreadSafetyMode</a></td>
                    <td><em>mode</em></td>
                    <td><p>One of the enumeration values that specifies the thread safety mode. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentOutOfRangeException.html#System_ArgumentOutOfRangeException">ArgumentOutOfRangeException</a></td>
                    <td><p>
<em>mode</em> contains an invalid value. </p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.ArgumentNullException.html#System_ArgumentNullException">ArgumentNullException</a></td>
                    <td><p>
<em>valueFactory</em> is <strong>null</strong>. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1__ctor_System_Threading_LazyThreadSafetyMode_.md&amp;value=---%0Auid%3A%20System.Lazy%601.%23ctor(System.Threading.LazyThreadSafetyMode)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1209">View Source</a>
              </span>
              <h4 id="System_Lazy_1__ctor_System_Threading_LazyThreadSafetyMode_" data-uid="System.Lazy`1.#ctor(System.Threading.LazyThreadSafetyMode)">Lazy(LazyThreadSafetyMode)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class that uses the default constructor of <em>T</em> and the specified thread-safety mode.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Lazy_1__ctor_System_Threading_LazyThreadSafetyMode__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The thread safety mode of a <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance describes the behavior when multiple threads try to initialize the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance. </p>
<p>A <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance that is created with this constructor does not cache exceptions. For more information, see the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> class or the <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode">LazyThreadSafetyMode</a> enumeration.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public Lazy(LazyThreadSafetyMode mode)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode">LazyThreadSafetyMode</a></td>
                    <td><em>mode</em></td>
                    <td><p>One of the enumeration values that specifies the thread safety mode. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentOutOfRangeException.html#System_ArgumentOutOfRangeException">ArgumentOutOfRangeException</a></td>
                    <td><p>
<em>mode</em> contains an invalid value. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <h3 id="properties">Properties
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1_IsValueCreated.md&amp;value=---%0Auid%3A%20System.Lazy%601.IsValueCreated%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1210">View Source</a>
              </span>
              <h4 id="System_Lazy_1_IsValueCreated" data-uid="System.Lazy`1.IsValueCreated">IsValueCreated</h4>
              <div class="markdown level1 summary"><p>Gets a value that indicates whether a value has been created for this <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Lazy_1_IsValueCreated_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p><p>When lazy initialization occurs for a <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance, it may result in either a value being created or an exception being thrown. If an exception is thrown, subsequent behavior of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance depends on whether exception caching is in effect. If the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance was created by using a constructor that does not specify an initialization function, then exception caching is not in effect. A subsequent attempt to initialize the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> might succeed, and after successful initialization the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_IsValueCreated">IsValueCreated</a> property returns <strong>true</strong>. If the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance was created with an initialization function (specified by the <em>valueFactory</em> parameter of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> constructor), then exception caching is controlled by the thread safety mode.</p></p>
<ul><li>
<p>If the mode is <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_ExecutionAndPublication">ExecutionAndPublication</a> or <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_None">None</a>, there is no second chance to initialize the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance. If an exception occurs and is unhandled in the initialization function, that exception is cached and rethrown on subsequent accesses of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a>property. No value is created if an exception is thrown, so in such cases <a class="xref" href="System.Lazy%601.html#System_Lazy_1_IsValueCreated">IsValueCreated</a> returns <strong>false</strong>.</p>
</li><li>
<p>If the mode is <a class="xref" href="System.Threading.LazyThreadSafetyMode.html#System_Threading_LazyThreadSafetyMode_PublicationOnly">PublicationOnly</a>, the first thread that succeeds in running the initialization function (or the default constructor) creates the value for the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance. If the initialization function throws an exception on one thread, other threads can still try to initialize the <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance. Until the value is created, the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_IsValueCreated">IsValueCreated</a> property returns <strong>false</strong>.</p>
</li></ul>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public bool IsValueCreated { get; }</code></pre>
              </div>
              <h5 class="propertyValue"></h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><p>
<strong>true</strong> if a value has been created for this <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance; otherwise, <strong>false</strong>.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1_Value.md&amp;value=---%0Auid%3A%20System.Lazy%601.Value%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1211">View Source</a>
              </span>
              <h4 id="System_Lazy_1_Value" data-uid="System.Lazy`1.Value">Value</h4>
              <div class="markdown level1 summary"><p>Gets the lazily initialized value of the current <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Lazy_1_Value_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>If the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_IsValueCreated">IsValueCreated</a> property is <strong>false</strong>, accessing the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property forces initialization.</p>
<p>In addition to the exceptions that are listed, the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property can throw any unhandled exception that is thrown by the factory method that was passed to the <em>valueFactory</em> parameter of the <span class="xref">System.Lazy`1.</span>, <span class="xref">System.Lazy`1.</span>, or <span class="xref">System.Lazy`1.</span> constructor.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public T Value { get; }</code></pre>
              </div>
              <h5 class="propertyValue"></h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">T</span></td>
                    <td><p>The lazily initialized value of the current <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.MemberAccessException.html#System_MemberAccessException">MemberAccessException</a></td>
                    <td><p>The <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance is initialized to use the default constructor of the type that is being lazily initialized, and permissions to access the constructor are missing. </p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.MissingMemberException.html#System_MissingMemberException">MissingMemberException</a></td>
                    <td><p>The <a class="xref" href="System.Lazy%601.html#System_Lazy_1">Lazy<t></t></a> instance is initialized to use the default constructor of the type that is being lazily initialized, and that type does not have a public, parameterless constructor. </p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.InvalidOperationException.html#System_InvalidOperationException">InvalidOperationException</a></td>
                    <td><p>The initialization function tries to access <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> on this instance. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <h3 id="methods">Methods
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Lazy_1_ToString.md&amp;value=---%0Auid%3A%20System.Lazy%601.ToString%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Runtime/ref/System.Runtime.cs/#L1212">View Source</a>
              </span>
              <h4 id="System_Lazy_1_ToString" data-uid="System.Lazy`1.ToString">ToString()</h4>
              <div class="markdown level1 summary"><p>Creates and returns a string representation of the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property for this instance.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Lazy_1_ToString_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Calling this method does not cause initialization.</p>
<p>The <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property can be <strong>null</strong> after lazy initialization if the factory method that was specified for the <em>valueFactory</em> parameter of the <span class="xref">System.Lazy`1.</span>, <span class="xref">System.Lazy`1.</span>, or <span class="xref">System.Lazy`1.</span> constructor returns <strong>null</strong>. </p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public override string ToString()</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><p>The result of calling the <a class="xref" href="System.Object.html#System_Object_ToString">ToString()</a> method on the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property for this instance, if the value has been created (that is, if the <a class="xref" href="System.Lazy%601.html#System_Lazy_1_IsValueCreated">IsValueCreated</a> property returns <strong>true</strong>). Otherwise, a string indicating that the value has not been created. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.NullReferenceException.html#System_NullReferenceException">NullReferenceException</a></td>
                    <td><p>The <a class="xref" href="System.Lazy%601.html#System_Lazy_1_Value">Value</a> property is <strong>null</strong>.</p>
</td>
                  </tr>
                </tbody>
              </table>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="inner-footer">
          <p>© .NET Foundation</p>
          <p>
            <a href="https://www.github.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-github fa-stack-1x"></span>
            </span></a>
            <a href="https://twitter.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-twitter fa-stack-1x"></span>
            </span></a>
            <a href="https://www.facebook.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-facebook fa-stack-1x"></span>
            </span></a>
      
          </p>
          </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
