<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class XStreamingElement
   | CoreCLR site </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class XStreamingElement
   | CoreCLR site ">
    
    <link rel="shortcut icon" href="../images/Logo_DotNet.png" type="image/x-icon">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/style.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-63735192-1', 'auto');
    ga('send', 'pageview');
    </script>
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav class="navbar navbar-inverse">
             <div class="container">
               <a href="../"><img height="50px" src="../images/Logo_DotNet.png" style="float:right;"></a>
               <div class="navbar-header ">
                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
                 <a class="navbar-brand" href="../"><span class="dotnet">.NET Core</span></a>
               </div>
               <div id="navbar" class="collapse navbar-collapse">
               </div><!--/.nav-collapse -->
             </div>
           </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="pull-right mobile-hide"><span class="fa fa-github"></span>Improve this Doc</a>
              <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L434" class="pull-right mobile-hide">View Source</a>
              <h1 id="System_Xml_Linq_XStreamingElement" data-uid="System.Xml.Linq.XStreamingElement">Class XStreamingElement
              </h1>
              <div class="markdown level0 summary"><p>Represents elements in an XML tree that supports deferred streaming output.</p>
</div>
              <div class="markdown level0 conceptual"></div>
              <div class="inheritance">
                <h5>Inheritance</h5>
                  <div class="level0"><a class="xref" href="System.Object.html#System_Object">Object</a></div>
                  <div class="level1"><span class="xref">XStreamingElement</span></div>
              </div>
              <div class="inheritedMembers">
                <h5>Inherited Members</h5>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_Equals_System_Object_">Equals(Object)</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_Equals_System_Object_System_Object_">Equals(Object, Object)</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_ReferenceEquals_System_Object_System_Object_">ReferenceEquals(Object, Object)</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_GetHashCode">GetHashCode()</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_GetType">GetType()</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_MemberwiseClone">MemberwiseClone()</a>
                </div>
              </div>
              <h6><strong>Namespace</strong>:System.Xml.Linq</h6>
              <h6><strong>Assembly</strong>:System.Xml.XDocument.dll</h6>
              <h5 id="System_Xml_Linq_XStreamingElement_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public class XStreamingElement</code></pre>
              </div>
              <h5 id="System_Xml_Linq_XStreamingElement_examples"><strong>Examples</strong></h5>
              
<p>The following example first creates a source XML tree. It then creates a transform of the source XML tree using <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>. This transform creates a new tree in memory. It then creates a transform of the source XML tree using <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>. This transform doesn't execute the query until the transformed tree is serialized to the console. Its memory usage is less.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XElement dstTree1 = new XElement("NewRoot",
                from el in srcTree.Elements()
                where (int)el >= 3
                select new XElement("DifferentChild", (int)el)
            );

XStreamingElement dstTree2 = new XStreamingElement("NewRoot",
                from el in srcTree.Elements()
                where (int)el >= 3
                select new XElement("DifferentChild", (int)el)
            );

Console.WriteLine(dstTree1);
Console.WriteLine("------");
Console.WriteLine(dstTree2);</code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
    <child>1</child>
    <child>2</child>
    <child>3</child>
    <child>4</child>
    <child>5</child>
</root>

Dim dstTree1 As XElement = _
<newroot>
<%= From el In srcTree.Elements _
    Where (el.Value >= 3) _
    Select <DifferentChild><%= el.Value %> %>
</newroot>

Dim dstTree2 As XStreamingElement = New XStreamingElement("NewRoot", _
        From el In srcTree.Elements _
        Where el.Value >= 3 _
        Select <differentchild><%= el.Value %></differentchild> _
    )

Console.WriteLine(dstTree1)
Console.WriteLine("------")
Console.WriteLine(dstTree2)</code></pre>
<p>This example produces the following output:</p>
<pre><code><newroot>
<differentchild>3</differentchild>
<differentchild>4</differentchild>
<differentchild>5</differentchild>
</newroot>
------
<newroot>
<differentchild>3</differentchild>
<differentchild>4</differentchild>
<differentchild>5</differentchild>
</newroot></code></pre>
<p>One approach to processing a text file is to write an extension method that streams the text file a line at a time using the <strong>yield return</strong> construct. You then can write a LINQ query that processes the text file in a lazy deferred fashion. If you then use the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> to stream output, you then can create a transform from the text file to XML that uses a minimal amount of memory, regardless of the size of the source text file.</p>
<p>The following text file, People.txt, is the source for this example.</p>
<pre><code>#This is a comment
1,Tai,Yee,Writer
2,Nikolay,Grachev,Programmer
3,David,Wright,Inventor</code></pre>
<p>The following code contains an extension method that streams the lines of the text file in a deferred fashion.</p>
<pre><code class="c#">public static class StreamReaderSequence
{
public static IEnumerable<string> Lines(this StreamReader source)
{
String line;

if (source == null)
    throw new ArgumentNullException("source");
while ((line = source.ReadLine()) != null)
{
    yield return line;
}
}
}

class Program
{
static void Main(string[] args)
{
StreamReader sr = new StreamReader("People.txt");
XStreamingElement xmlTree = new XStreamingElement("Root",
    from line in sr.Lines()
    let items = line.Split(',')
    where !line.StartsWith("#")
    select new XElement("Person",
               new XAttribute("ID", items[0]),
               new XElement("First", items[1]),
               new XElement("Last", items[2]),
               new XElement("Occupation", items[3])
           )
);
Console.WriteLine(xmlTree);
sr.Close();
}
}</string></code></pre>
<pre><code class="vb">Module StreamReaderSequence

<runtime.compilerservices.extension>
Public Iterator Function Lines(source As IO.StreamReader) As IEnumerable(Of String)
If source Is Nothing Then Throw New ArgumentNullException("source")
Dim line As String = source.ReadLine()
While (line <> Nothing)
    Yield line
    line = source.ReadLine()
End While
End Function

End Module

Module Module1
Sub Main()
Dim sr As New IO.StreamReader("People.txt")
Dim xmlTree As New XStreamingElement("Root",
    From line In sr.Lines()
    Let items = line.Split(","c)
    Where Not line.StartsWith("#")
    Select <person id="<%= items(0) %>">
               <first><%= items(1) %></first>
               <last><%= items(2) %></last>
               <occupation><%= items(3) %></occupation>
           </person>)
Console.WriteLine(xmlTree)
sr.Close()
End Sub
End Module</runtime.compilerservices.extension></code></pre>
<p>This example produces the following output:</p>
<pre><code class="xml"><root>
<person id="1">
<first>Tai</first>
<last>Yee</last>
<occupation>Writer</occupation>
</person>
<person id="2">
<first>Nikolay</first>
<last>Grachev</last>
<occupation>Programmer</occupation>
</person>
<person id="3">
<first>David</first>
<last>Wright</last>
<occupation>Inventor</occupation>
</person>
</root></code></pre>
<p>Sometimes you have to transform large XML files, and write your application so that the memory footprint of the application is predictable. If you try to populate an XML tree with a very large XML file, your memory usage will be proportional to the size of the file (that is, excessive). Therefore, you should use a streaming technique instead.</p>
<p>Certain standard query operators, such as <a class="xref" href="System.Linq.Enumerable.html#System_Linq_Enumerable_OrderBy__2_System_Collections_Generic_IEnumerable___0__System_Func___0___1__">OrderBy<tsource, tkey="">(IEnumerable<tsource>, Func<tsource, tkey="">)</tsource,></tsource></tsource,></a>, iterate their source, collect all of the data, sort it, and then finally yield the first item in the sequence. Note that if you use a query operator that materializes its source before yielding the first item, you will not retain a small memory footprint for your application.</p>
<p>Even if you use the technique described in , if you try to assemble an XML tree that contains the transformed document, memory usage may be too great.</p>
<p>The following example builds on the example in How to: Stream XML Fragments with Access to Header Information.</p>
<p>This example uses the deferred execution capabilities of <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> to stream the output.</p>
<p>Note that the custom axis (<code>StreamCustomerItem</code>) is specifically written so that it expects a document that has <code>Customer</code>, <code>Name</code>, and <code>Item</code> elements, and that those elements will be arranged as in the following Source.xml document. A more robust implementation, however, would either validate the source document with an XSD, or would be prepared to parse an invalid document.</p>
<p>The following is the source document, Source.xml:</p>
<pre><code class="xml"><?xml version="1.0" encoding="utf-8"?> 
<root>
<customer>
<name>A. Datum Corporation</name>
<item>
<key>0001</key>
</item>
<item>
<key>0002</key>
</item>
<item>
<key>0003</key>
</item>
<item>
<key>0004</key>
</item>
</customer>
<customer>
<name>Fabrikam, Inc.</name>
<item>
<key>0005</key>
</item>
<item>
<key>0006</key>
</item>
<item>
<key>0007</key>
</item>
<item>
<key>0008</key>
</item>
</customer>
<customer>
<name>Southridge Video</name>
<item>
<key>0009</key>
</item>
<item>
<key>0010</key>
</item>
</customer>
</root></code></pre>
<p>The following code contains a method that uses an <a class="xref" href="System.Xml.XmlReader.html#System_Xml_XmlReader">XmlReader</a> to stream the source XML. It uses <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> to stream the new XML.</p>
<pre><code class="c#">static IEnumerable<xelement> StreamCustomerItem(string uri)
{
using (XmlReader reader = XmlReader.Create(uri))
{
XElement name = null;
XElement item = null;

reader.MoveToContent();

// Parse the file, save header information when encountered, and yield the
// Item XElement objects as they are created.

// loop through Customer elements
while (reader.Read())
{
    if (reader.NodeType == XmlNodeType.Element
        && reader.Name == "Customer")
    {
        // move to Name element
        while (reader.Read())
        {
            if (reader.NodeType == XmlNodeType.Element &&
                reader.Name == "Name")
            {
                name = XElement.ReadFrom(reader) as XElement;
                break;
            }
        }

        // loop through Item elements
        while (reader.Read())
        {
            if (reader.NodeType == XmlNodeType.EndElement)
                break;
            if (reader.NodeType == XmlNodeType.Element
                && reader.Name == "Item")
            {
                item = XElement.ReadFrom(reader) as XElement;
                if (item != null)
                {
                    XElement tempRoot = new XElement("Root",
                        new XElement(name)
                    );
                    tempRoot.Add(item);
                    yield return item;
                }
            }
        }
    }
}
}
}

static void Main(string[] args)
{
XStreamingElement root = new XStreamingElement("Root",
from el in StreamCustomerItem("Source.xml")
select new XElement("Item",
    new XElement("Customer", (string)el.Parent.Element("Name")),
    new XElement(el.Element("Key"))
)
);
root.Save("Test.xml");
Console.WriteLine(File.ReadAllText("Test.xml"));
}</xelement></code></pre>
<pre><code class="vb">Iterator Function StreamCustomerItem(uri As String) As IEnumerable(Of XElement)

Dim name As XElement = Nothing
Dim item As XElement = Nothing

Dim reader As XmlReader = XmlReader.Create(uri)
reader.MoveToContent()

' Parse the file, save header information when encountered, and yield the
' Item XElement objects as they are created.

' Loop through Customer elements.
While (reader.Read())
If (reader.NodeType = XmlNodeType.Element And reader.Name = "Customer") Then
    While (reader.Read())
        ' Move to Name element
        If (reader.NodeType = XmlNodeType.Element And reader.Name = "Name") Then
            name = CType(XElement.ReadFrom(reader), XElement)
            Exit While
        End If
    End While

    ' Loop through Item elements
    While (reader.Read())
        If (reader.NodeType = XmlNodeType.EndElement) Then
            Exit While
        End If

        If (reader.NodeType = XmlNodeType.Element And reader.Name = "Item") Then
            item = CType(XElement.ReadFrom(reader), XElement)
            If (Not (item Is Nothing)) Then
                Dim tempRoot = New XElement("Root",
                    New XElement(name)
                )
                tempRoot.Add(item)
                Yield item
             End If
        End If
    End While
End If
End While
reader.Close()
End Function

Sub Main()
Dim root As New XStreamingElement("Root",
From el In StreamCustomerItem("c:\trash\Source.xml")
Select New XElement("Item",
    New XElement("Customer", CStr(el.Parent.Element("Name"))),
    New XElement(el.Element("Key"))))
root.Save("c:\trash\Test.xml")
Console.WriteLine(System.IO.File.ReadAllText("c:\trash\Test.xml"))
End Sub</code></pre>
<p>This example produces the following output:</p>
<pre><code class="xml"><?xml version="1.0" encoding="utf-8"?>
<root>
<item>
<customer>A. Datum Corporation</customer>
<key>0001</key>
</item>
<item>
<customer>A. Datum Corporation</customer>
<key>0002</key>
</item>
<item>
<customer>A. Datum Corporation</customer>
<key>0003</key>
</item>
<item>
<customer>A. Datum Corporation</customer>
<key>0004</key>
</item>
<item>
<customer>Fabrikam, Inc.</customer>
<key>0005</key>
</item>
<item>
<customer>Fabrikam, Inc.</customer>
<key>0006</key>
</item>
<item>
<customer>Fabrikam, Inc.</customer>
<key>0007</key>
</item>
<item>
<customer>Fabrikam, Inc.</customer>
<key>0008</key>
</item>
<item>
<customer>Southridge Video</customer>
<key>0009</key>
</item>
<item>
<customer>Southridge Video</customer>
<key>0010</key>
</item>
</root></code></pre>

              <h3 id="constructors">Constructors
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.%23ctor(System.Xml.Linq.XName)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L436">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_" data-uid="System.Xml.Linq.XStreamingElement.#ctor(System.Xml.Linq.XName)">XStreamingElement(XName)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a> class from the specified <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor creates a streaming element with no content and no attributes.</p>
<p>There is an implicit conversion from string to <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>. Typical use of this constructor is to specify a string as the parameter instead of creating a new <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public XStreamingElement(XName name)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a></td>
                    <td><em>name</em></td>
                    <td><p>An <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a> that contains the name of the element.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor creates a streaming element with no content and no attributes.</p>
<p>There is an implicit conversion from string to <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>. Typical use of this constructor is to specify a string as the parameter instead of creating a new <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>.</p>
</div>
              <h5 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName__examples">Examples</h5>
              
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XStreamingElement dstTree = new XStreamingElement("NewRoot",
                from el in srcTree.Elements()
                where (int)el >= 3
                select new XElement("DifferentChild", (int)el)
            );

Console.WriteLine(dstTree);</code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
    <child>1</child>
    <child>2</child>
    <child>3</child>
    <child>4</child>
    <child>5</child>
</root>

Dim dstTree As XStreamingElement = New XStreamingElement("NewRoot", _
        From el In srcTree.Elements _
        Where el.Value >= 3 _
        Select <differentchild><%= el.Value %></differentchild> _
    )

Console.WriteLine(dstTree)</code></pre>
<p>This example produces the following output:</p>
<pre><code><newroot>
<differentchild>3</differentchild>
<differentchild>4</differentchild>
<differentchild>5</differentchild>
</newroot></code></pre>

              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.%23ctor(System.Xml.Linq.XName%2CSystem.Object)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L437">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object_" data-uid="System.Xml.Linq.XStreamingElement.#ctor(System.Xml.Linq.XName,System.Object)">XStreamingElement(XName, Object)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> class with the specified name and content.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor creates a streaming element with the specified content and attributes.</p>
<p>There is an implicit conversion from string to <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>. Typical use of this constructor is to specify a string as the parameter instead of creating a new <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>.</p>
<p>Queries are not iterated until the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> is serialized. This is in contrast to using queries for content for an <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>, where queries are iterated at the time of construction of the new <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>.</p>
<p>For details about the valid content that can be passed to this constructor, see Valid Content of XElement and XDocument Objects.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public XStreamingElement(XName name, object content)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a></td>
                    <td><em>name</em></td>
                    <td><p>An <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a> that contains the element name.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Object.html#System_Object">Object</a></td>
                    <td><em>content</em></td>
                    <td><p>The contents of the element.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor creates a streaming element with the specified content and attributes.</p>
<p>There is an implicit conversion from string to <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>. Typical use of this constructor is to specify a string as the parameter instead of creating a new <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>.</p>
<p>Queries are not iterated until the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> is serialized. This is in contrast to using queries for content for an <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>, where queries are iterated at the time of construction of the new <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>.</p>
<p>For details about the valid content that can be passed to this constructor, see Valid Content of XElement and XDocument Objects.</p>
</div>
              <h5 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object__examples">Examples</h5>
              
<p>This example uses the following XML file, named Source.xml:</p>
<pre><code class="xml"><?xml version="1.0" encoding="utf-8"?> 
<root>
<child key="01">
<grandchild>aaa</grandchild>
</child>
<child key="02">
<grandchild>bbb</grandchild>
</child>
<child key="03">
<grandchild>ccc</grandchild>
</child>
</root></code></pre>

              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object___.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.%23ctor(System.Xml.Linq.XName%2CSystem.Object%5B%5D)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L438">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object___" data-uid="System.Xml.Linq.XStreamingElement.#ctor(System.Xml.Linq.XName,System.Object[])">XStreamingElement(XName, Object[])</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> class with the specified name and content.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object____remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor creates a streaming element with the specified content and attributes.</p>
<p>There is an implicit conversion from string to <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>. Typical use of this constructor is to specify a string as the parameter instead of creating a new <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>.</p>
<p>Queries are not iterated until the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> is serialized. This is in contrast to using queries for content for an <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>, where queries are iterated at the time of construction of the new <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>.</p>
<p>For details about the valid content that can be passed to this function, see Valid Content of XElement and XDocument Objects.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public XStreamingElement(XName name, params object[] content)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a></td>
                    <td><em>name</em></td>
                    <td><p>An <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a> that contains the element name.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Object.html#System_Object">Object</a>[]</td>
                    <td><em>content</em></td>
                    <td><p>The contents of the element.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object____remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor creates a streaming element with the specified content and attributes.</p>
<p>There is an implicit conversion from string to <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>. Typical use of this constructor is to specify a string as the parameter instead of creating a new <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a>.</p>
<p>Queries are not iterated until the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> is serialized. This is in contrast to using queries for content for an <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>, where queries are iterated at the time of construction of the new <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>.</p>
<p>For details about the valid content that can be passed to this function, see Valid Content of XElement and XDocument Objects.</p>
</div>
              <h5 id="System_Xml_Linq_XStreamingElement__ctor_System_Xml_Linq_XName_System_Object____examples">Examples</h5>
              
<p>This example uses the following XML file, named Source.xml:</p>
<pre><code class="xml"><?xml version="1.0" encoding="utf-8"?> 
<root>
<child key="01">
<grandchild>aaa</grandchild>
</child>
<child key="02">
<grandchild>bbb</grandchild>
</child>
<child key="03">
<grandchild>ccc</grandchild>
</child>
</root></code></pre>

              <h3 id="properties">Properties
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_Name.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.Name%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L439">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_Name" data-uid="System.Xml.Linq.XStreamingElement.Name">Name</h4>
              <div class="markdown level1 summary"><p>Gets or sets the name of this streaming element.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public XName Name { get; set; }</code></pre>
              </div>
              <h5 class="propertyValue"></h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a></td>
                    <td><p>An <a class="xref" href="System.Xml.Linq.XName.html#System_Xml_Linq_XName">XName</a> that contains the name of this streaming element.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_Name_examples">Examples</h5>
              
<p>This example creates a new streaming element, and then prints the name of the element.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XStreamingElement dstTree = new XStreamingElement("NewRoot",
                from el in srcTree.Elements()
                where (int)el >= 3
                select new XElement("DifferentChild", (int)el)
            );

Console.WriteLine(dstTree.Name);</code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
    <child>1</child>
    <child>2</child>
    <child>3</child>
    <child>4</child>
    <child>5</child>
</root>

Dim dstTree As XStreamingElement = New XStreamingElement("NewRoot", _
        From el In srcTree.Elements _
        Where el.Value >= 3 _
        Select <differentchild><%= el.Value %></differentchild> _
    )

Console.WriteLine(dstTree.Name)</code></pre>
<p>This example produces the following output:</p>
<pre><code>NewRoot</code></pre>

              <h3 id="methods">Methods
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_Add_System_Object_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.Add(System.Object)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L440">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_Add_System_Object_" data-uid="System.Xml.Linq.XStreamingElement.Add(System.Object)">Add(Object)</h4>
              <div class="markdown level1 summary"><p>Adds the specified content as children to this <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement_Add_System_Object__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor adds the specified content and attributes to the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>. While it is often possible to construct the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> in a single statement, it is sometimes more convenient to add content to the streaming element incrementally.</p>
<p>Queries are not iterated until the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> is serialized. This is in contrast to using queries for content for an <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>, where queries are iterated at the time of construction of the new <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>.</p>
<p>For details about the valid content that can be passed to this function, see Valid Content of XElement and XDocument Objects.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Add(object content)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Object.html#System_Object">Object</a></td>
                    <td><em>content</em></td>
                    <td><p>Content to be added to the streaming element.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_Add_System_Object__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor adds the specified content and attributes to the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>. While it is often possible to construct the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> in a single statement, it is sometimes more convenient to add content to the streaming element incrementally.</p>
<p>Queries are not iterated until the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> is serialized. This is in contrast to using queries for content for an <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>, where queries are iterated at the time of construction of the new <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>.</p>
<p>For details about the valid content that can be passed to this function, see Valid Content of XElement and XDocument Objects.</p>
</div>
              <h5 id="System_Xml_Linq_XStreamingElement_Add_System_Object__examples">Examples</h5>
              
<p>The following example creates a new <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>. It then adds two queries to the streaming element. The queries are not iterated until the streaming element is serialized.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XStreamingElement dstTree = new XStreamingElement("NewRoot");

dstTree.Add(
from el in srcTree.Elements()
where (int)el <= 1="" select="" new="" xelement("child",="" (int)el)="" );="" dsttree.add(="" from="" el="" in="" srctree.elements()="" where="" (int)el="">= 3
select new XElement("DifferentChild", (int)el)
);

Console.WriteLine(dstTree);</=></code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
<child>1</child>
<child>2</child>
<child>3</child>
<child>4</child>
<child>5</child>
</root>

Dim dstTree As XStreamingElement = New XStreamingElement("NewRoot")

dstTree.Add( _
From el In srcTree.Elements() _
Where el.Value <= 1="" _="" select=""></=><child><%= el.Value %></child> _
)

dstTree.Add( _
From el In srcTree.Elements() _
Where el.Value >= 3 _
Select <differentchild><%= el.Value %></differentchild> _
)

Console.WriteLine(dstTree)</code></pre>
<p>This example produces the following output:</p>
<pre><code class="xml"><newroot>
<child>1</child>
<differentchild>3</differentchild>
<differentchild>4</differentchild>
<differentchild>5</differentchild>
</newroot></code></pre>

              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_Add_System_Object___.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.Add(System.Object%5B%5D)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L441">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_Add_System_Object___" data-uid="System.Xml.Linq.XStreamingElement.Add(System.Object[])">Add(Object[])</h4>
              <div class="markdown level1 summary"><p>Adds the specified content as children to this <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement_Add_System_Object____remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor adds the specified content and attributes to the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>. While it is often possible to construct the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> in a single statement, it is sometimes more convenient to add content to the streaming element incrementally.</p>
<p>Queries are not iterated until the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> is serialized. This is in contrast to using queries for content for an <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>, where queries are iterated at the time of construction of the new <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>.</p>
<p>For details about the valid content that can be passed to this function, see Valid Content of XElement and XDocument Objects.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Add(params object[] content)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Object.html#System_Object">Object</a>[]</td>
                    <td><em>content</em></td>
                    <td><p>Content to be added to the streaming element.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_Add_System_Object____remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor adds the specified content and attributes to the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>. While it is often possible to construct the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> in a single statement, it is sometimes more convenient to add content to the streaming element incrementally.</p>
<p>Queries are not iterated until the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> is serialized. This is in contrast to using queries for content for an <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>, where queries are iterated at the time of construction of the new <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a>.</p>
<p>For details about the valid content that can be passed to this function, see Valid Content of XElement and XDocument Objects.</p>
</div>
              <h5 id="System_Xml_Linq_XStreamingElement_Add_System_Object____examples">Examples</h5>
              
<p>The following example creates a new <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>. It then adds two queries to the streaming element. The queries are not iterated until the streaming element is serialized.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XStreamingElement dstTree = new XStreamingElement("NewRoot");

dstTree.Add(
from el in srcTree.Elements()
where (int)el <= 1="" select="" new="" xelement("child",="" (int)el)="" );="" dsttree.add(="" from="" el="" in="" srctree.elements()="" where="" (int)el="">= 3
select new XElement("DifferentChild", (int)el)
);

Console.WriteLine(dstTree);</=></code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
<child>1</child>
<child>2</child>
<child>3</child>
<child>4</child>
<child>5</child>
</root>

Dim dstTree As XStreamingElement = New XStreamingElement("NewRoot")

dstTree.Add( _
From el In srcTree.Elements() _
Where el.Value <= 1="" _="" select=""></=><child><%= el.Value %></child> _
)

dstTree.Add( _
From el In srcTree.Elements() _
Where el.Value >= 3 _
Select <differentchild><%= el.Value %></differentchild> _
)

Console.WriteLine(dstTree)</code></pre>
<p>This example produces the following output:</p>
<pre><code class="xml"><newroot>
<child>1</child>
<differentchild>3</differentchild>
<differentchild>4</differentchild>
<differentchild>5</differentchild>
</newroot></code></pre>

              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_Save_System_IO_Stream_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.Save(System.IO.Stream)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L442">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_Save_System_IO_Stream_" data-uid="System.Xml.Linq.XStreamingElement.Save(System.IO.Stream)">Save(Stream)</h4>
              <div class="markdown level1 summary"><p>Outputs this <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> to the specified <a class="xref" href="System.IO.Stream.html#System_IO_Stream">Stream</a>.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_Stream__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The serialized XML will be indented. All insignificant white space will be removed, and additional white space will be added so that the XML will be properly indented. The behavior of this method is that insignificant white space will not be preserved.</p>
<p>If you want to control white space, use the overload of <see cref="Overload:System.Xml.Linq.XStreamingElement.Save"></see> that takes <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a> as a parameter. Use the <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_DisableFormatting">DisableFormatting</a> option to save unindented XML. This will cause the writer to write all white spaces exactly as represented in the XML tree.</p>
<p>Use <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_OmitDuplicateNamespaces">OmitDuplicateNamespaces</a> option if you want to remove duplicate namespace declarations.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Save(Stream stream)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.IO.Stream.html#System_IO_Stream">Stream</a></td>
                    <td><em>stream</em></td>
                    <td><p>The stream to output this <a class="xref" href="System.Xml.Linq.XDocument.html#System_Xml_Linq_XDocument">XDocument</a> to.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_Stream__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The serialized XML will be indented. All insignificant white space will be removed, and additional white space will be added so that the XML will be properly indented. The behavior of this method is that insignificant white space will not be preserved.</p>
<p>If you want to control white space, use the overload of <see cref="Overload:System.Xml.Linq.XStreamingElement.Save"></see> that takes <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a> as a parameter. Use the <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_DisableFormatting">DisableFormatting</a> option to save unindented XML. This will cause the writer to write all white spaces exactly as represented in the XML tree.</p>
<p>Use <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_OmitDuplicateNamespaces">OmitDuplicateNamespaces</a> option if you want to remove duplicate namespace declarations.</p>
</div>
              
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_Save_System_IO_Stream_System_Xml_Linq_SaveOptions_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.Save(System.IO.Stream%2CSystem.Xml.Linq.SaveOptions)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L443">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_Save_System_IO_Stream_System_Xml_Linq_SaveOptions_" data-uid="System.Xml.Linq.XStreamingElement.Save(System.IO.Stream,System.Xml.Linq.SaveOptions)">Save(Stream, SaveOptions)</h4>
              <div class="markdown level1 summary"><p>Outputs this <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> to the specified <a class="xref" href="System.IO.Stream.html#System_IO_Stream">Stream</a>, optionally specifying formatting behavior.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_Stream_System_Xml_Linq_SaveOptions__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>By default the <em>options</em> are set to <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_None">None</a>. This option will remove all extraneous insignificant white space, and add appropriate insignificant white space so that the XML is properly indented. </p>
<p>If you want to save unindented XML, specify the <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_DisableFormatting">DisableFormatting</a> flag for <em>options</em>. This will cause the writer to write all white spaces exactly as represented in the XML tree.</p>
<p>Use <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_OmitDuplicateNamespaces">OmitDuplicateNamespaces</a> option if you want to remove duplicate namespace declarations.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Save(Stream stream, SaveOptions options)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.IO.Stream.html#System_IO_Stream">Stream</a></td>
                    <td><em>stream</em></td>
                    <td><p>The stream to output this <a class="xref" href="System.Xml.Linq.XDocument.html#System_Xml_Linq_XDocument">XDocument</a> to.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a></td>
                    <td><em>options</em></td>
                    <td><p>A <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a> object that specifies formatting behavior.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_Stream_System_Xml_Linq_SaveOptions__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>By default the <em>options</em> are set to <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_None">None</a>. This option will remove all extraneous insignificant white space, and add appropriate insignificant white space so that the XML is properly indented. </p>
<p>If you want to save unindented XML, specify the <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_DisableFormatting">DisableFormatting</a> flag for <em>options</em>. This will cause the writer to write all white spaces exactly as represented in the XML tree.</p>
<p>Use <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_OmitDuplicateNamespaces">OmitDuplicateNamespaces</a> option if you want to remove duplicate namespace declarations.</p>
</div>
              
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.Save(System.IO.TextWriter)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L444">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter_" data-uid="System.Xml.Linq.XStreamingElement.Save(System.IO.TextWriter)">Save(TextWriter)</h4>
              <div class="markdown level1 summary"><p>Serialize this streaming element to a <a class="xref" href="System.IO.TextWriter.html#System_IO_TextWriter">TextWriter</a>.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The serialized XML will be indented. All insignificant white space will be removed, and additional white space will be added so that the XML will be properly indented. The behavior of this method is that insignificant white space nodes in the XML tree will not be preserved.</p>
<p>If you want to control white space, use one of the overloads of <see cref="Overload:System.Xml.Linq.XStreamingElement.Save"></see> that take <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a> as a parameter. For more information, see Preserving White Space while Loading or Parsing XML and Preserving White Space While Serializing.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Save(TextWriter textWriter)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.IO.TextWriter.html#System_IO_TextWriter">TextWriter</a></td>
                    <td><em>textWriter</em></td>
                    <td><p>A <a class="xref" href="System.IO.TextWriter.html#System_IO_TextWriter">TextWriter</a> that the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> will be written to.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The serialized XML will be indented. All insignificant white space will be removed, and additional white space will be added so that the XML will be properly indented. The behavior of this method is that insignificant white space nodes in the XML tree will not be preserved.</p>
<p>If you want to control white space, use one of the overloads of <see cref="Overload:System.Xml.Linq.XStreamingElement.Save"></see> that take <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a> as a parameter. For more information, see Preserving White Space while Loading or Parsing XML and Preserving White Space While Serializing.</p>
</div>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter__examples">Examples</h5>
              
<p>The following example creates a source XML tree, then instantiates an <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> using a query on the source XML tree. It then writes the streaming element to a <a class="xref" href="System.IO.StringWriter.html#System_IO_StringWriter">StringWriter</a>.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XStreamingElement dstTree = new XStreamingElement("NewRoot",
                from el in srcTree.Elements()
                where (int)el >= 3
                select new XElement("DifferentChild", (int)el)
            );

StringBuilder sb = new StringBuilder();
dstTree.Save(new StringWriter(sb));
Console.WriteLine(sb.ToString());</code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
<child>1</child>
<child>2</child>
<child>3</child>
<child>4</child>
<child>5</child>
</root>

Dim dstTree As XStreamingElement = New XStreamingElement("NewRoot", _
                From el In srcTree.Elements() _
                Where el.Value >= 3 _
                Select <differentchild><%= el.Value %></differentchild> _
            )

Dim sb As StringBuilder = New StringBuilder()
dstTree.Save(New StringWriter(sb))
Console.WriteLine(sb.ToString())</code></pre>
<p>This example produces the following output:</p>
<pre><code class="xml"><?xml version="1.0" encoding="utf-16"?>
<newroot>
<differentchild>3</differentchild>
<differentchild>4</differentchild>
<differentchild>5</differentchild>
</newroot></code></pre>

              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter_System_Xml_Linq_SaveOptions_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.Save(System.IO.TextWriter%2CSystem.Xml.Linq.SaveOptions)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L445">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter_System_Xml_Linq_SaveOptions_" data-uid="System.Xml.Linq.XStreamingElement.Save(System.IO.TextWriter,System.Xml.Linq.SaveOptions)">Save(TextWriter, SaveOptions)</h4>
              <div class="markdown level1 summary"><p>Serialize this streaming element to a <a class="xref" href="System.IO.TextWriter.html#System_IO_TextWriter">TextWriter</a>, optionally disabling formatting.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter_System_Xml_Linq_SaveOptions__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>If you want to save unindented XML, specify the <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_DisableFormatting">DisableFormatting</a> flag for <em>options</em>. This will cause the writer to write all white space exactly as represented in the XML tree.</p>
<p>If you want to save indented XML, do not specify the <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_DisableFormatting">DisableFormatting</a> flag for <em>options</em>. This will remove all extraneous insignificant white space, and add appropriate insignificant white space so that the XML is properly indented. This is the default behavior, and the behavior of the overloads of the <see cref="Overload:System.Xml.Linq.XElement.Save"></see> methods that do not take <em>options</em> as a parameter.</p>
<p>For more information, see Preserving White Space while Loading or Parsing XML and Preserving White Space While Serializing.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Save(TextWriter textWriter, SaveOptions options)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.IO.TextWriter.html#System_IO_TextWriter">TextWriter</a></td>
                    <td><em>textWriter</em></td>
                    <td><p>The <a class="xref" href="System.IO.TextWriter.html#System_IO_TextWriter">TextWriter</a> to output the XML to.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a></td>
                    <td><em>options</em></td>
                    <td><p>A <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a> that specifies formatting behavior.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter_System_Xml_Linq_SaveOptions__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>If you want to save unindented XML, specify the <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_DisableFormatting">DisableFormatting</a> flag for <em>options</em>. This will cause the writer to write all white space exactly as represented in the XML tree.</p>
<p>If you want to save indented XML, do not specify the <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions_DisableFormatting">DisableFormatting</a> flag for <em>options</em>. This will remove all extraneous insignificant white space, and add appropriate insignificant white space so that the XML is properly indented. This is the default behavior, and the behavior of the overloads of the <see cref="Overload:System.Xml.Linq.XElement.Save"></see> methods that do not take <em>options</em> as a parameter.</p>
<p>For more information, see Preserving White Space while Loading or Parsing XML and Preserving White Space While Serializing.</p>
</div>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_IO_TextWriter_System_Xml_Linq_SaveOptions__examples">Examples</h5>
              
<p>The following example shows two uses of this method. The first use preserves white space. The second one serializes the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> with formatting.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XStreamingElement dstTree = new XStreamingElement("NewRoot",
                from el in srcTree.Elements()
                where (int)el == 3
                select new XElement("DifferentChild", (int)el)
            );

StringBuilder sb = new StringBuilder();
dstTree.Save(new StringWriter(sb), SaveOptions.DisableFormatting);
Console.WriteLine(sb.ToString());
Console.WriteLine("------");
sb = new StringBuilder();
dstTree.Save(new StringWriter(sb), SaveOptions.None);
Console.WriteLine(sb.ToString());</code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
<child>1</child>
<child>2</child>
<child>3</child>
<child>4</child>
<child>5</child>
</root>

Dim dstTree As XStreamingElement = New XStreamingElement("NewRoot", _
                From el In srcTree.Elements() _
                Where el.Value = 3 _
                Select <differentchild><%= el.Value %></differentchild> _
            )

Dim sb As StringBuilder = New StringBuilder()
dstTree.Save(New StringWriter(sb), SaveOptions.DisableFormatting)
Console.WriteLine(sb.ToString())
Console.WriteLine("------")
sb = New StringBuilder()
dstTree.Save(New StringWriter(sb), SaveOptions.None)
Console.WriteLine(sb.ToString())</code></pre>
<p>This example produces the following output:</p>
<pre><code class="xml"><?xml version="1.0" encoding="utf-16"?><newroot><differentchild>3</differentchild></newroot>
------
<?xml version="1.0" encoding="utf-16"?>
<newroot>
<differentchild>3</differentchild>
</newroot></code></pre>

              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_Save_System_Xml_XmlWriter_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.Save(System.Xml.XmlWriter)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L446">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_Save_System_Xml_XmlWriter_" data-uid="System.Xml.Linq.XStreamingElement.Save(System.Xml.XmlWriter)">Save(XmlWriter)</h4>
              <div class="markdown level1 summary"><p>Serialize this streaming element to an <a class="xref" href="System.Xml.XmlWriter.html#System_Xml_XmlWriter">XmlWriter</a>.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void Save(XmlWriter writer)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Xml.XmlWriter.html#System_Xml_XmlWriter">XmlWriter</a></td>
                    <td><em>writer</em></td>
                    <td><p>A <a class="xref" href="System.Xml.XmlWriter.html#System_Xml_XmlWriter">XmlWriter</a> that the <a class="xref" href="System.Xml.Linq.XElement.html#System_Xml_Linq_XElement">XElement</a> will be written to.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_Save_System_Xml_XmlWriter__examples">Examples</h5>
              
<p>The following example creates an <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> and writes it to an <a class="xref" href="System.Xml.XmlWriter.html#System_Xml_XmlWriter">XmlWriter</a>.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

StringBuilder sb = new StringBuilder();
XmlWriterSettings xws = new XmlWriterSettings();
xws.OmitXmlDeclaration = true;
using (XmlWriter xw = XmlWriter.Create(sb, xws))
{
XStreamingElement dstTree = new XStreamingElement("NewRoot",
                    from el in srcTree.Elements()
                    where (int)el == 5
                    select new XElement("DifferentChild", (int)el)
                );

dstTree.Save(xw);
}
Console.WriteLine(sb.ToString());</code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
<child>1</child>
<child>2</child>
<child>3</child>
<child>4</child>
<child>5</child>
</root>

Dim sb As StringBuilder = New StringBuilder()
Dim xws As XmlWriterSettings = New XmlWriterSettings()
xws.OmitXmlDeclaration = True
Using xw As XmlWriter = XmlWriter.Create(sb, xws)
Dim dstTree As XStreamingElement = New XStreamingElement("NewRoot", _
                    From el In srcTree.Elements() _
                    Where el.Value = 5 _
                    Select <differentchild><%= el.Value %></differentchild> _
                )
dstTree.Save(xw)
End Using
Console.WriteLine(sb.ToString())</code></pre>
<p>This example produces the following output:</p>
<pre><code class="xml"><newroot><differentchild>5</differentchild></newroot></code></pre>

              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_ToString.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.ToString%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L447">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_ToString" data-uid="System.Xml.Linq.XStreamingElement.ToString">ToString()</h4>
              <div class="markdown level1 summary"><p>Returns the formatted (indented) XML for this streaming element.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement_ToString_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Note that when debugging a program that uses <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>, displaying the value of an object causes its <see cref="Overload:System.Xml.Linq.XStreamingElement.ToString"></see> method to be called. This causes the XML to be serialized. If the semantics of your streaming element query are such that the streaming element can only be streamed once, this may cause undesirable behavior in your debugging experience.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public override string ToString()</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><p>A <a class="xref" href="System.String.html#System_String">String</a> containing the indented XML.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="overrides">Overrides</h5>
              <div><a class="xref" href="System.Object.html#System_Object_ToString">ToString()</a></div>
              <h5 id="System_Xml_Linq_XStreamingElement_ToString_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Note that when debugging a program that uses <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>, displaying the value of an object causes its <see cref="Overload:System.Xml.Linq.XStreamingElement.ToString"></see> method to be called. This causes the XML to be serialized. If the semantics of your streaming element query are such that the streaming element can only be streamed once, this may cause undesirable behavior in your debugging experience.</p>
</div>
              <h5 id="System_Xml_Linq_XStreamingElement_ToString_examples">Examples</h5>
              
<p>The following example shows two uses of <see cref="Overload:System.Xml.Linq.XStreamingElement.ToString"></see>. The first use preserves white space. The second one serializes the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> with formatting.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XStreamingElement dstTree = new XStreamingElement("NewRoot",
                from el in srcTree.Elements()
                where (int)el == 3
                select new XElement("DifferentChild", (int)el)
            );

Console.WriteLine(dstTree.ToString(SaveOptions.DisableFormatting));
Console.WriteLine("------");
Console.WriteLine(dstTree.ToString());</code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
<child>1</child>
<child>2</child>
<child>3</child>
<child>4</child>
<child>5</child>
</root>

Dim dstTree As XStreamingElement = New XStreamingElement("NewRoot", _
                From el In srcTree.Elements() _
                Where el.Value = 3 _
                Select <differentchild><%= el.Value %></differentchild> _
            )

Console.WriteLine(dstTree.ToString(SaveOptions.DisableFormatting))
Console.WriteLine("------")
Console.WriteLine(dstTree.ToString())</code></pre>
<p>This example produces the following output:</p>
<pre><code><newroot><differentchild>3</differentchild></newroot>
------
<newroot>
<differentchild>3</differentchild>
</newroot></code></pre>

              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_ToString_System_Xml_Linq_SaveOptions_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.ToString(System.Xml.Linq.SaveOptions)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L448">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_ToString_System_Xml_Linq_SaveOptions_" data-uid="System.Xml.Linq.XStreamingElement.ToString(System.Xml.Linq.SaveOptions)">ToString(SaveOptions)</h4>
              <div class="markdown level1 summary"><p>Returns the XML for this streaming element, optionally disabling formatting.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Linq_XStreamingElement_ToString_System_Xml_Linq_SaveOptions__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Note that when debugging a program that uses <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>, displaying the value of an object causes its <see cref="Overload:System.Xml.Linq.XStreamingElement.ToString"></see> method to be called. This causes the XML to be serialized. If the semantics of your streaming element query are such that the streaming element can only be streamed once, this may cause undesirable behavior in your debugging experience.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public string ToString(SaveOptions options)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a></td>
                    <td><em>options</em></td>
                    <td><p>A <a class="xref" href="System.Xml.Linq.SaveOptions.html#System_Xml_Linq_SaveOptions">SaveOptions</a> that specifies formatting behavior.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><p>A <a class="xref" href="System.String.html#System_String">String</a> containing the XML.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_ToString_System_Xml_Linq_SaveOptions__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Note that when debugging a program that uses <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>, displaying the value of an object causes its <see cref="Overload:System.Xml.Linq.XStreamingElement.ToString"></see> method to be called. This causes the XML to be serialized. If the semantics of your streaming element query are such that the streaming element can only be streamed once, this may cause undesirable behavior in your debugging experience.</p>
</div>
              <h5 id="System_Xml_Linq_XStreamingElement_ToString_System_Xml_Linq_SaveOptions__examples">Examples</h5>
              
<p>The following example shows two uses of <see cref="Overload:System.Xml.Linq.XStreamingElement.ToString"></see>. The first use preserves white space. The second one serializes the <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a> with formatting.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XStreamingElement dstTree = new XStreamingElement("NewRoot",
                from el in srcTree.Elements()
                where (int)el == 3
                select new XElement("DifferentChild", (int)el)
            );

Console.WriteLine(dstTree.ToString(SaveOptions.DisableFormatting));
Console.WriteLine("------");
Console.WriteLine(dstTree.ToString());</code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
<child>1</child>
<child>2</child>
<child>3</child>
<child>4</child>
<child>5</child>
</root>

Dim dstTree As XStreamingElement = New XStreamingElement("NewRoot", _
                From el In srcTree.Elements() _
                Where el.Value = 3 _
                Select <differentchild><%= el.Value %></differentchild> _
            )

Console.WriteLine(dstTree.ToString(SaveOptions.DisableFormatting))
Console.WriteLine("------")
Console.WriteLine(dstTree.ToString())</code></pre>
<p>This example produces the following output:</p>
<pre><code><newroot><differentchild>3</differentchild></newroot>
------
<newroot>
<differentchild>3</differentchild>
</newroot></code></pre>

              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Linq_XStreamingElement_WriteTo_System_Xml_XmlWriter_.md&amp;value=---%0Auid%3A%20System.Xml.Linq.XStreamingElement.WriteTo(System.Xml.XmlWriter)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XDocument/ref/System.Xml.XDocument.cs/#L449">View Source</a>
              </span>
              <h4 id="System_Xml_Linq_XStreamingElement_WriteTo_System_Xml_XmlWriter_" data-uid="System.Xml.Linq.XStreamingElement.WriteTo(System.Xml.XmlWriter)">WriteTo(XmlWriter)</h4>
              <div class="markdown level1 summary"><p>Writes this streaming element to an <a class="xref" href="System.Xml.XmlWriter.html#System_Xml_XmlWriter">XmlWriter</a>.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public void WriteTo(XmlWriter writer)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Xml.XmlWriter.html#System_Xml_XmlWriter">XmlWriter</a></td>
                    <td><em>writer</em></td>
                    <td><p>An <a class="xref" href="System.Xml.XmlWriter.html#System_Xml_XmlWriter">XmlWriter</a> into which this method will write.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Xml_Linq_XStreamingElement_WriteTo_System_Xml_XmlWriter__examples">Examples</h5>
              
<p>The following example creates an XML tree using <a class="xref" href="System.Xml.Linq.XStreamingElement.html#System_Xml_Linq_XStreamingElement">XStreamingElement</a>. It then writes the streaming element to an <a class="xref" href="System.Xml.XmlWriter.html#System_Xml_XmlWriter">XmlWriter</a>.</p>
<pre><code class="c#">XElement srcTree = new XElement("Root",
               new XElement("Child", 1),
               new XElement("Child", 2),
               new XElement("Child", 3),
               new XElement("Child", 4),
               new XElement("Child", 5)
           );

XStreamingElement dstTree = new XStreamingElement("NewRoot",
                from el in srcTree.Elements()
                where (int)el == 3
                select new XElement("DifferentChild", (int)el)
            );

StringBuilder sb = new StringBuilder();
XmlWriterSettings xws = new XmlWriterSettings();
xws.OmitXmlDeclaration = true;
xws.Indent = true;

using (XmlWriter xw = XmlWriter.Create(sb, xws))
{
dstTree.WriteTo(xw);
}
Console.WriteLine(sb.ToString());</code></pre>
<pre><code class="vb">Dim srcTree As XElement = _
<root>
<child>1</child>
<child>2</child>
<child>3</child>
<child>4</child>
<child>5</child>
</root>

Dim dstTree As XStreamingElement = _ 
New XStreamingElement("NewRoot", _
From el In srcTree.Elements() _
Where el.Value = 3 _
Select <differentchild><%= el.Value %></differentchild> )

Dim sb As StringBuilder = New StringBuilder()
Dim xws As XmlWriterSettings = New XmlWriterSettings()
xws.OmitXmlDeclaration = True
xws.Indent = True

Using xw As XmlWriter = XmlWriter.Create(sb, xws)
dstTree.WriteTo(xw)
End Using
Console.WriteLine(sb.ToString())</code></pre>
<p>This example produces the following output:</p>
<pre><code class="xml"><newroot>
<differentchild>3</differentchild>
</newroot></code></pre>

            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="inner-footer">
          <p>© .NET Foundation</p>
          <p>
            <a href="https://www.github.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-github fa-stack-1x"></span>
            </span></a>
            <a href="https://twitter.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-twitter fa-stack-1x"></span>
            </span></a>
            <a href="https://www.facebook.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-facebook fa-stack-1x"></span>
            </span></a>
      
          </p>
          </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
