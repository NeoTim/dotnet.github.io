<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class Semaphore
   | CoreCLR site </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class Semaphore
   | CoreCLR site ">
    
    <link rel="shortcut icon" href="../images/Logo_DotNet.png" type="image/x-icon">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/style.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-63735192-1', 'auto');
    ga('send', 'pageview');
    </script>
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav class="navbar navbar-inverse">
             <div class="container">
               <a href="../"><img height="50px" src="../images/Logo_DotNet.png" style="float:right;"></a>
               <div class="navbar-header ">
                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
                 <a class="navbar-brand" href="../"><span class="dotnet">.NET Core</span></a>
               </div>
               <div id="navbar" class="collapse navbar-collapse">
               </div><!--/.nav-collapse -->
             </div>
           </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_Semaphore.md&amp;value=---%0Auid%3A%20System.Threading.Semaphore%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="pull-right mobile-hide"><span class="fa fa-github"></span>Improve this Doc</a>
              <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/Threading/Semaphore.cs/#L14" class="pull-right mobile-hide">View Source</a>
              <h1 id="System_Threading_Semaphore" data-uid="System.Threading.Semaphore">Class Semaphore
              </h1>
              <div class="markdown level0 summary"><p>Limits the number of threads that can access a resource or pool of resources concurrently. </p>
</div>
              <div class="markdown level0 conceptual"></div>
              <div class="inheritance">
                <h5>Inheritance</h5>
                  <div class="level0"><a class="xref" href="System.Object.html#System_Object">Object</a></div>
                  <div class="level1"><span class="xref">System.MarshalByRefObject</span></div>
                  <div class="level2"><a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle">WaitHandle</a></div>
                  <div class="level3"><span class="xref">Semaphore</span></div>
              </div>
              <div class="inheritedMembers">
                <h5>Inherited Members</h5>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitTimeout">WaitTimeout</a>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_InvalidHandle">InvalidHandle</a>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.WaitOne(System.Int32, System.Boolean)</span>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.WaitOne(System.TimeSpan, System.Boolean)</span>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitOne">WaitOne()</a>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitOne_System_Int32_">WaitOne(Int32)</a>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitOne_System_TimeSpan_">WaitOne(TimeSpan)</a>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.WaitAll(System.Threading.WaitHandle[], System.Int32, System.Boolean)</span>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.WaitAll(System.Threading.WaitHandle[], System.TimeSpan, System.Boolean)</span>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitAll_System_Threading_WaitHandle___">WaitAll(WaitHandle[])</a>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitAll_System_Threading_WaitHandle___System_Int32_">WaitAll(WaitHandle[], Int32)</a>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitAll_System_Threading_WaitHandle___System_TimeSpan_">WaitAll(WaitHandle[], TimeSpan)</a>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.WaitAny(System.Threading.WaitHandle[], System.Int32, System.Boolean)</span>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.WaitAny(System.Threading.WaitHandle[], System.TimeSpan, System.Boolean)</span>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitAny_System_Threading_WaitHandle___System_TimeSpan_">WaitAny(WaitHandle[], TimeSpan)</a>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitAny_System_Threading_WaitHandle___">WaitAny(WaitHandle[])</a>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_WaitAny_System_Threading_WaitHandle___System_Int32_">WaitAny(WaitHandle[], Int32)</a>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.SignalAndWait(System.Threading.WaitHandle, System.Threading.WaitHandle)</span>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.SignalAndWait(System.Threading.WaitHandle, System.Threading.WaitHandle, System.TimeSpan, System.Boolean)</span>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.SignalAndWait(System.Threading.WaitHandle, System.Threading.WaitHandle, System.Int32, System.Boolean)</span>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.Close()</span>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_Dispose_System_Boolean_">Dispose(Boolean)</a>
                </div>
                <div>
                  <a class="xref" href="System.Threading.WaitHandle.html#System_Threading_WaitHandle_Dispose">Dispose()</a>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.Handle</span>
                </div>
                <div>
                  <span class="xref">System.Threading.WaitHandle.SafeWaitHandle</span>
                </div>
                <div>
                  <span class="xref">System.MarshalByRefObject.MemberwiseClone(System.Boolean)</span>
                </div>
                <div>
                  <span class="xref">System.MarshalByRefObject.GetLifetimeService()</span>
                </div>
                <div>
                  <span class="xref">System.MarshalByRefObject.InitializeLifetimeService()</span>
                </div>
                <div>
                  <span class="xref">System.MarshalByRefObject.CreateObjRef(System.Type)</span>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_ToString">ToString()</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_Equals_System_Object_">Equals(Object)</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_Equals_System_Object_System_Object_">Equals(Object, Object)</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_ReferenceEquals_System_Object_System_Object_">ReferenceEquals(Object, Object)</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_GetHashCode">GetHashCode()</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_GetType">GetType()</a>
                </div>
                <div>
                  <a class="xref" href="System.Object.html#System_Object_MemberwiseClone">MemberwiseClone()</a>
                </div>
              </div>
              <h6><strong>Namespace</strong>:System.Threading</h6>
              <h6><strong>Assembly</strong>:System.Threading.dll</h6>
              <h5 id="System_Threading_Semaphore_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public sealed class Semaphore : WaitHandle, IDisposable</code></pre>
              </div>
              <h5 id="System_Threading_Semaphore_examples"><strong>Examples</strong></h5>
              
<p>The following code example creates a semaphore with a maximum count of three and an initial count of zero. The example starts five threads, which block waiting for the semaphore. The main thread uses the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release_System_Int32_">Release(Int32)</a> method overload to increase the semaphore count to its maximum, allowing three threads to enter the semaphore. Each thread uses the <see cref="Overload:System.Threading.Thread.Sleep"></see> method to wait for one second, to simulate work, and then calls the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release">Release()</a> method overload to release the semaphore. Each time the semaphore is released, the previous semaphore count is displayed. Console messages track semaphore use. The simulated work interval is increased slightly for each thread, to make the output easier to read.</p>System.Threading.Semaphore2#1
              <h3 id="constructors">Constructors
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_Semaphore__ctor_System_Int32_System_Int32_.md&amp;value=---%0Auid%3A%20System.Threading.Semaphore.%23ctor(System.Int32%2CSystem.Int32)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/Threading/Semaphore.cs/#L16">View Source</a>
              </span>
              <h4 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32_" data-uid="System.Threading.Semaphore.#ctor(System.Int32,System.Int32)">Semaphore(Int32, Int32)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> class, specifying the initial number of entries and the maximum number of concurrent entries. </p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor initializes an unnamed semaphore. All threads that use an instance of such a semaphore must have references to the instance.</p>
<p>If <em>initialCount</em> is less than <em>maximumCount</em>, the effect is the same as if the current thread had called <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> (<em>maximumCount</em> minus <em>initialCount</em>) times. If you do not want to reserve any entries for the thread that creates the semaphore, use the same number for <em>maximumCount</em> and <em>initialCount</em>.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">[SecuritySafeCritical]
public Semaphore(int initialCount, int maximumCount)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td><em>initialCount</em></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td><em>maximumCount</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor initializes an unnamed semaphore. All threads that use an instance of such a semaphore must have references to the instance.</p>
<p>If <em>initialCount</em> is less than <em>maximumCount</em>, the effect is the same as if the current thread had called <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> (<em>maximumCount</em> minus <em>initialCount</em>) times. If you do not want to reserve any entries for the thread that creates the semaphore, use the same number for <em>maximumCount</em> and <em>initialCount</em>.</p>
</div>
              <h5 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32__examples">Examples</h5>
              
<p>The following example creates a semaphore with a maximum count of three and an initial count of zero. The example starts five threads, which block waiting for the semaphore. The main thread uses the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release_System_Int32_">Release(Int32)</a> method overload to increase the semaphore count to its maximum, allowing three threads to enter the semaphore. Each thread uses the <see cref="Overload:System.Threading.Thread.Sleep"></see> method to wait for one second, to simulate work, and then calls the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release">Release()</a> method overload to release the semaphore. Each time the semaphore is released, the previous semaphore count is displayed. Console messages track semaphore use. The simulated work interval is increased slightly for each thread, to make the output easier to read.</p>System.Threading.Semaphore2#1
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentException.html#System_ArgumentException">ArgumentException</a></td>
                    <td><p>
<em>initialCount</em> is greater than <em>maximumCount</em>.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.ArgumentOutOfRangeException.html#System_ArgumentOutOfRangeException">ArgumentOutOfRangeException</a></td>
                    <td><p>
<em>maximumCount</em> is less than 1.</p>
<p>-or-</p>
<p>
<em>initialCount</em> is less than 0.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String_.md&amp;value=---%0Auid%3A%20System.Threading.Semaphore.%23ctor(System.Int32%2CSystem.Int32%2CSystem.String)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/Threading/Semaphore.cs/#L19">View Source</a>
              </span>
              <h4 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String_" data-uid="System.Threading.Semaphore.#ctor(System.Int32,System.Int32,System.String)">Semaphore(Int32, Int32, String)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> class, specifying the initial number of entries and the maximum number of concurrent entries, and optionally specifying the name of a system semaphore object. </p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor initializes a <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object that represents a named system semaphore. You can create multiple <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> objects that represent the same named system semaphore.</p>
<p>If the named system semaphore does not exist, it is created with the initial count and maximum count specified by <em>initialCount</em> and <em>maximumCount</em>. If the named system semaphore already exists, <em>initialCount</em> and <em>maximumCount</em> are not used, although invalid values still cause exceptions. If you need to determine whether or not a named system semaphore was created, use the <span class="xref">System.Threading.Semaphore.</span> constructor overload instead. </p>
<p>When you use this constructor overload, the recommended practice is to specify the same number for <em>initialCount</em> and <em>maximumCount</em>. If <em>initialCount</em> is less than <em>maximumCount</em>, and a named system semaphore is created, the effect is the same as if the current thread had called <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> (<em>maximumCount</em> minus <em>initialCount</em>) times. However, with this constructor overload there is no way to determine whether a named system semaphore was created. </p>
<p>If you specify <strong>null</strong> or an empty string for <em>name</em>, a local semaphore is created, as if you had called the <span class="xref">System.Threading.Semaphore.</span> constructor overload.</p>
<p>Because named semaphores are visible throughout the operating system, they can be used to coordinate resource use across process boundaries.</p>
<p>If you want to find out whether a named system semaphore exists, use the <see cref="Overload:System.Threading.Semaphore.OpenExisting"></see> method. The <see cref="Overload:System.Threading.Semaphore.OpenExisting"></see> method attempts to open an existing named semaphore, and throws an exception if the system semaphore does not exist.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">[SecurityCritical]
public Semaphore(int initialCount, int maximumCount, string name)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td><em>initialCount</em></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td><em>maximumCount</em></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><em>name</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor initializes a <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object that represents a named system semaphore. You can create multiple <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> objects that represent the same named system semaphore.</p>
<p>If the named system semaphore does not exist, it is created with the initial count and maximum count specified by <em>initialCount</em> and <em>maximumCount</em>. If the named system semaphore already exists, <em>initialCount</em> and <em>maximumCount</em> are not used, although invalid values still cause exceptions. If you need to determine whether or not a named system semaphore was created, use the <span class="xref">System.Threading.Semaphore.</span> constructor overload instead. </p>
<p>When you use this constructor overload, the recommended practice is to specify the same number for <em>initialCount</em> and <em>maximumCount</em>. If <em>initialCount</em> is less than <em>maximumCount</em>, and a named system semaphore is created, the effect is the same as if the current thread had called <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> (<em>maximumCount</em> minus <em>initialCount</em>) times. However, with this constructor overload there is no way to determine whether a named system semaphore was created. </p>
<p>If you specify <strong>null</strong> or an empty string for <em>name</em>, a local semaphore is created, as if you had called the <span class="xref">System.Threading.Semaphore.</span> constructor overload.</p>
<p>Because named semaphores are visible throughout the operating system, they can be used to coordinate resource use across process boundaries.</p>
<p>If you want to find out whether a named system semaphore exists, use the <see cref="Overload:System.Threading.Semaphore.OpenExisting"></see> method. The <see cref="Overload:System.Threading.Semaphore.OpenExisting"></see> method attempts to open an existing named semaphore, and throws an exception if the system semaphore does not exist.</p>
</div>
              <h5 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String__examples">Examples</h5>
              
<p>The following code example demonstrates the cross-process behavior of a named semaphore. The example creates a named semaphore with a maximum count of five and an initial count of five. The program makes three calls to the <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> method. Thus, if you run the compiled example from two command windows, the second copy will block on the third call to <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see>. Release one or more entries in the first copy of the program to unblock the second.</p>System.Threading.Semaphore.ctor named 3#1
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentException.html#System_ArgumentException">ArgumentException</a></td>
                    <td><p>
<em>initialCount</em> is greater than <em>maximumCount</em>.</p>
<p>-or-</p>
<p>
<em>name</em> is longer than 260 characters.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.ArgumentOutOfRangeException.html#System_ArgumentOutOfRangeException">ArgumentOutOfRangeException</a></td>
                    <td><p>
<em>maximumCount</em> is less than 1.</p>
<p>-or-</p>
<p>
<em>initialCount</em> is less than 0.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.IO.IOException.html#System_IO_IOException">IOException</a></td>
                    <td><p>A Win32 error occurred.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.UnauthorizedAccessException.html#System_UnauthorizedAccessException">UnauthorizedAccessException</a></td>
                    <td><p>The named semaphore exists and has access control security, and the user does not have <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_FullControl">FullControl</a>.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.WaitHandleCannotBeOpenedException.html#System_Threading_WaitHandleCannotBeOpenedException">WaitHandleCannotBeOpenedException</a></td>
                    <td><p>The named semaphore cannot be created, perhaps because a wait handle of a different type has the same name.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String_System_Boolean__.md&amp;value=---%0Auid%3A%20System.Threading.Semaphore.%23ctor(System.Int32%2CSystem.Int32%2CSystem.String%2CSystem.Boolean%40)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/Threading/Semaphore.cs/#L52">View Source</a>
              </span>
              <h4 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String_System_Boolean__" data-uid="System.Threading.Semaphore.#ctor(System.Int32,System.Int32,System.String,System.Boolean@)">Semaphore(Int32, Int32, String, out Boolean)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> class, specifying the initial number of entries and the maximum number of concurrent entries, optionally specifying the name of a system semaphore object, and specifying a variable that receives a value indicating whether a new system semaphore was created.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String_System_Boolean___remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor initializes a <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object that represents a named system semaphore. You can create multiple <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> objects that represent the same named system semaphore.</p>
<p>If the named system semaphore does not exist, it is created with the initial count and maximum count specified by <em>initialCount</em> and <em>maximumCount</em>. If the named system semaphore already exists, <em>initialCount</em> and <em>maximumCount</em> are not used, although invalid values still cause exceptions. Use <em>createdNew</em> to determine whether the system semaphore was created. </p>
<p>If <em>initialCount</em> is less than <em>maximumCount</em>, and <em>createdNew</em> is <strong>true</strong>, the effect is the same as if the current thread had called <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> (<em>maximumCount</em> minus <em>initialCount</em>) times.</p>
<p>If you specify <strong>null</strong> or an empty string for <em>name</em>, a local semaphore is created, as if you had called the <span class="xref">System.Threading.Semaphore.</span> constructor overload. In this case, <em>createdNew</em> is always <strong>true</strong>.</p>
<p>Because named semaphores are visible throughout the operating system, they can be used to coordinate resource use across process boundaries.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">[SecurityCritical]
public Semaphore(int initialCount, int maximumCount, string name, out bool createdNew)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td><em>initialCount</em></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td><em>maximumCount</em></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><em>name</em></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td><em>createdNew</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String_System_Boolean___remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>This constructor initializes a <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object that represents a named system semaphore. You can create multiple <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> objects that represent the same named system semaphore.</p>
<p>If the named system semaphore does not exist, it is created with the initial count and maximum count specified by <em>initialCount</em> and <em>maximumCount</em>. If the named system semaphore already exists, <em>initialCount</em> and <em>maximumCount</em> are not used, although invalid values still cause exceptions. Use <em>createdNew</em> to determine whether the system semaphore was created. </p>
<p>If <em>initialCount</em> is less than <em>maximumCount</em>, and <em>createdNew</em> is <strong>true</strong>, the effect is the same as if the current thread had called <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> (<em>maximumCount</em> minus <em>initialCount</em>) times.</p>
<p>If you specify <strong>null</strong> or an empty string for <em>name</em>, a local semaphore is created, as if you had called the <span class="xref">System.Threading.Semaphore.</span> constructor overload. In this case, <em>createdNew</em> is always <strong>true</strong>.</p>
<p>Because named semaphores are visible throughout the operating system, they can be used to coordinate resource use across process boundaries.</p>
</div>
              <h5 id="System_Threading_Semaphore__ctor_System_Int32_System_Int32_System_String_System_Boolean___examples">Examples</h5>
              
<p>The following code example demonstrates the cross-process behavior of a named semaphore. The example creates a named semaphore with a maximum count of five and an initial count of two. That is, it reserves three entries for the thread that calls the constructor. If <em>createNew</em> is <strong>false</strong>, the program makes three calls to the <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> method. Thus, if you run the compiled example from two command windows, the second copy will block on the third call to <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see>. Release one or more entries in the first copy of the program to unblock the second.</p>System.Threading.Semaphore.ctor named 4#1
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentException.html#System_ArgumentException">ArgumentException</a></td>
                    <td><p>
<em>initialCount</em> is greater than <em>maximumCount</em>. </p>
<p>-or-</p>
<p>
<em>name</em> is longer than 260 characters.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.ArgumentOutOfRangeException.html#System_ArgumentOutOfRangeException">ArgumentOutOfRangeException</a></td>
                    <td><p>
<em>maximumCount</em> is less than 1.</p>
<p>-or-</p>
<p>
<em>initialCount</em> is less than 0.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.IO.IOException.html#System_IO_IOException">IOException</a></td>
                    <td><p>A Win32 error occurred.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.UnauthorizedAccessException.html#System_UnauthorizedAccessException">UnauthorizedAccessException</a></td>
                    <td><p>The named semaphore exists and has access control security, and the user does not have <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_FullControl">FullControl</a>.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.WaitHandleCannotBeOpenedException.html#System_Threading_WaitHandleCannotBeOpenedException">WaitHandleCannotBeOpenedException</a></td>
                    <td><p>The named semaphore cannot be created, perhaps because a wait handle of a different type has the same name.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h3 id="methods">Methods
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_Semaphore_OpenExisting_System_String_.md&amp;value=---%0Auid%3A%20System.Threading.Semaphore.OpenExisting(System.String)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/Threading/Semaphore.cs/#L110">View Source</a>
              </span>
              <h4 id="System_Threading_Semaphore_OpenExisting_System_String_" data-uid="System.Threading.Semaphore.OpenExisting(System.String)">OpenExisting(String)</h4>
              <div class="markdown level1 summary"><p>Opens the specified named semaphore, if it already exists.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_Semaphore_OpenExisting_System_String__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The <see cref="Overload:System.Threading.Semaphore.OpenExisting"></see> method tries to open the specified named semaphore. If the system semaphore does not exist, this method throws an exception instead of creating the system semaphore. To create the system semaphore when it does not already exist, use one of the <span class="xref">System.Threading.Semaphore.</span> constructors that has a <em>name</em> parameter.</p>
<p>Multiple calls to this method that use the same value for <em>name</em> do not necessarily return the same <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object, even though the objects that are returned represent the same named system semaphore. </p>
<p>This method overload is equivalent to calling the <span class="xref">System.Threading.Semaphore.OpenExisting(System.String,System.Security.AccessControl.SemaphoreRights)</span> method overload and specifying <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Synchronize">Synchronize</a> and <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights, combined by using the bitwise OR operation.</p>
<p>Specifying the <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Synchronize">Synchronize</a> flag allows a thread to enter the semaphore, and specifying the <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> flag allows a thread to call the <see cref="Overload:System.Threading.Semaphore.Release"></see> method.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">[SecurityCritical]
public static Semaphore OpenExisting(string name)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><em>name</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Threading_Semaphore_OpenExisting_System_String__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>The <see cref="Overload:System.Threading.Semaphore.OpenExisting"></see> method tries to open the specified named semaphore. If the system semaphore does not exist, this method throws an exception instead of creating the system semaphore. To create the system semaphore when it does not already exist, use one of the <span class="xref">System.Threading.Semaphore.</span> constructors that has a <em>name</em> parameter.</p>
<p>Multiple calls to this method that use the same value for <em>name</em> do not necessarily return the same <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object, even though the objects that are returned represent the same named system semaphore. </p>
<p>This method overload is equivalent to calling the <span class="xref">System.Threading.Semaphore.OpenExisting(System.String,System.Security.AccessControl.SemaphoreRights)</span> method overload and specifying <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Synchronize">Synchronize</a> and <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights, combined by using the bitwise OR operation.</p>
<p>Specifying the <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Synchronize">Synchronize</a> flag allows a thread to enter the semaphore, and specifying the <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> flag allows a thread to call the <see cref="Overload:System.Threading.Semaphore.Release"></see> method.</p>
</div>
              <h5 id="System_Threading_Semaphore_OpenExisting_System_String__examples">Examples</h5>
              
<p>The following code example demonstrates the cross-process behavior of a named semaphore with access control security. The example uses the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_OpenExisting_System_String_">OpenExisting(String)</a> method overload to test for the existence of a named semaphore.</p>
<p>If the semaphore does not exist, it is created with a maximum count of two and with access control security that denies the current user the right to use the semaphore, but which grants the right to read and change permissions on the semaphore. </p>
<p>If you run the compiled example from two command windows, the second copy will throw an access violation exception on the call to the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_OpenExisting_System_String_">OpenExisting(String)</a> method overload. The exception is caught, and the example uses the <span class="xref">System.Threading.Semaphore.OpenExisting(System.String,System.Security.AccessControl.SemaphoreRights)</span> method overload to open the semaphore with the rights needed to read and change the permissions. </p>
<p>After the permissions are changed, the semaphore is opened with the rights required to enter and release it. If you run the compiled example from a third command window, it runs using the new permissions.</p>System.Threading.Semaphore.ctor named 5a#1
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentException.html#System_ArgumentException">ArgumentException</a></td>
                    <td><p>
<em>name</em> is an empty string.</p>
<p>-or-</p>
<p>
<em>name</em> is longer than 260 characters.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.ArgumentNullException.html#System_ArgumentNullException">ArgumentNullException</a></td>
                    <td><p>
<em>name</em> is <strong>null</strong>.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.WaitHandleCannotBeOpenedException.html#System_Threading_WaitHandleCannotBeOpenedException">WaitHandleCannotBeOpenedException</a></td>
                    <td><p>The named semaphore does not exist.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.IO.IOException.html#System_IO_IOException">IOException</a></td>
                    <td><p>A Win32 error occurred.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.UnauthorizedAccessException.html#System_UnauthorizedAccessException">UnauthorizedAccessException</a></td>
                    <td><p>The named semaphore exists, but the user does not have the security access required to use it. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_Semaphore_Release.md&amp;value=---%0Auid%3A%20System.Threading.Semaphore.Release%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/Threading/Semaphore.cs/#L174">View Source</a>
              </span>
              <h4 id="System_Threading_Semaphore_Release" data-uid="System.Threading.Semaphore.Release">Release()</h4>
              <div class="markdown level1 summary"><p>Exits the semaphore and returns the previous count.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_Semaphore_Release_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Threads typically use the <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> method to enter the semaphore, and they typically use this method overload to exit.</p>
<p>If a <a class="xref" href="System.Threading.SemaphoreFullException.html#System_Threading_SemaphoreFullException">SemaphoreFullException</a> is thrown by the <see cref="Overload:System.Threading.Semaphore.Release"></see> method, it does not necessarily indicate a problem with the calling thread. A programming error in another thread might have caused that thread to exit the semaphore more times than it entered.</p>
<p>If the current <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object represents a named system semaphore, the user must have <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights and the semaphore must have been opened with <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public int Release()</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Threading_Semaphore_Release_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>Threads typically use the <see cref="Overload:System.Threading.WaitHandle.WaitOne"></see> method to enter the semaphore, and they typically use this method overload to exit.</p>
<p>If a <a class="xref" href="System.Threading.SemaphoreFullException.html#System_Threading_SemaphoreFullException">SemaphoreFullException</a> is thrown by the <see cref="Overload:System.Threading.Semaphore.Release"></see> method, it does not necessarily indicate a problem with the calling thread. A programming error in another thread might have caused that thread to exit the semaphore more times than it entered.</p>
<p>If the current <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object represents a named system semaphore, the user must have <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights and the semaphore must have been opened with <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights.</p>
</div>
              <h5 id="System_Threading_Semaphore_Release_examples">Examples</h5>
              
<p>The following code example creates a semaphore with a maximum count of three and an initial count of zero. The example starts five threads, which block waiting for the semaphore. The main thread uses the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release_System_Int32_">Release(Int32)</a> method overload to increase the semaphore count to its maximum, allowing three threads to enter the semaphore. Each thread uses the <see cref="Overload:System.Threading.Thread.Sleep"></see> method to wait for one second, to simulate work, and then calls the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release">Release()</a> method overload to release the semaphore. </p>
<p>Each time the semaphore is released, the previous semaphore count is displayed. Console messages track semaphore use. The simulated work interval is increased slightly for each thread, to make the output easier to read.</p>System.Threading.Semaphore2#1
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Threading.SemaphoreFullException.html#System_Threading_SemaphoreFullException">SemaphoreFullException</a></td>
                    <td><p>The semaphore count is already at the maximum value.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.IO.IOException.html#System_IO_IOException">IOException</a></td>
                    <td><p>A Win32 error occurred with a named semaphore.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.UnauthorizedAccessException.html#System_UnauthorizedAccessException">UnauthorizedAccessException</a></td>
                    <td><p>The current semaphore represents a named system semaphore, but the user does not have <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a>.</p>
<p>-or-</p>
<p>The current semaphore represents a named system semaphore, but it was not opened with <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a>.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_Semaphore_Release_System_Int32_.md&amp;value=---%0Auid%3A%20System.Threading.Semaphore.Release(System.Int32)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/Threading/Semaphore.cs/#L180">View Source</a>
              </span>
              <h4 id="System_Threading_Semaphore_Release_System_Int32_" data-uid="System.Threading.Semaphore.Release(System.Int32)">Release(Int32)</h4>
              <div class="markdown level1 summary"><p>Exits the semaphore a specified number of times and returns the previous count.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_Semaphore_Release_System_Int32__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>If a thread has entered the semaphore multiple times, this method overload allows the entire semaphore count to be restored with one call.</p>
<p>If a <a class="xref" href="System.Threading.SemaphoreFullException.html#System_Threading_SemaphoreFullException">SemaphoreFullException</a> is thrown by the <see cref="Overload:System.Threading.Semaphore.Release"></see> method, it does not necessarily indicate a problem with the calling thread. A programming error in another thread might have caused that thread to exit the semaphore more times than it entered.</p>
<p>If the current <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object represents a named system semaphore, the user must have <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights and the semaphore must have been opened with <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">[SecuritySafeCritical]
public int Release(int releaseCount)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td><em>releaseCount</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Int32.html#System_Int32">Int32</a></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Threading_Semaphore_Release_System_Int32__remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>If a thread has entered the semaphore multiple times, this method overload allows the entire semaphore count to be restored with one call.</p>
<p>If a <a class="xref" href="System.Threading.SemaphoreFullException.html#System_Threading_SemaphoreFullException">SemaphoreFullException</a> is thrown by the <see cref="Overload:System.Threading.Semaphore.Release"></see> method, it does not necessarily indicate a problem with the calling thread. A programming error in another thread might have caused that thread to exit the semaphore more times than it entered.</p>
<p>If the current <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a> object represents a named system semaphore, the user must have <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights and the semaphore must have been opened with <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights.</p>
</div>
              <h5 id="System_Threading_Semaphore_Release_System_Int32__examples">Examples</h5>
              
<p>The following code example creates a semaphore with a maximum count of three and an initial count of zero. The example starts five threads, which block waiting for the semaphore. The main thread uses the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release_System_Int32_">Release(Int32)</a> method overload to increase the semaphore count to its maximum, allowing three threads to enter the semaphore. Each thread uses the <see cref="Overload:System.Threading.Thread.Sleep"></see> method to wait for one second, to simulate work, and then calls the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release">Release()</a> method overload to release the semaphore. </p>
<p>Each time the semaphore is released, the previous semaphore count is displayed. Console messages track semaphore use. The simulated work interval is increased slightly for each thread, to make the output easier to read.</p>System.Threading.Semaphore2#1
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentOutOfRangeException.html#System_ArgumentOutOfRangeException">ArgumentOutOfRangeException</a></td>
                    <td><p>
<em>releaseCount</em> is less than 1.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.SemaphoreFullException.html#System_Threading_SemaphoreFullException">SemaphoreFullException</a></td>
                    <td><p>The semaphore count is already at the maximum value.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.IO.IOException.html#System_IO_IOException">IOException</a></td>
                    <td><p>A Win32 error occurred with a named semaphore.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.UnauthorizedAccessException.html#System_UnauthorizedAccessException">UnauthorizedAccessException</a></td>
                    <td><p>The current semaphore represents a named system semaphore, but the user does not have <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights.</p>
<p>-or-</p>
<p>The current semaphore represents a named system semaphore, but it was not opened with <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Threading_Semaphore_TryOpenExisting_System_String_System_Threading_Semaphore__.md&amp;value=---%0Auid%3A%20System.Threading.Semaphore.TryOpenExisting(System.String%2CSystem.Threading.Semaphore%40)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/coreclr/blob/master/src/mscorlib/src/System/Threading/Semaphore.cs/#L128">View Source</a>
              </span>
              <h4 id="System_Threading_Semaphore_TryOpenExisting_System_String_System_Threading_Semaphore__" data-uid="System.Threading.Semaphore.TryOpenExisting(System.String,System.Threading.Semaphore@)">TryOpenExisting(String, out Semaphore)</h4>
              <div class="markdown level1 summary"><p>Opens the specified named semaphore, if it already exists, and returns a value that indicates whether the operation succeeded.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Threading_Semaphore_TryOpenExisting_System_String_System_Threading_Semaphore___remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>If the named semaphore does not exist, this method does not create it. To create the system semaphore when it does not already exist, use one of the <span class="xref">System.Threading.Semaphore.</span> constructors that has a <em>name</em> parameter.</p>
<p>If you are uncertain whether a named semaphore exists, use this method overload instead of the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_OpenExisting_System_String_">OpenExisting(String)</a> method overload, which throws an exception if the semaphore does not exist.</p>
<p>This method overload is equivalent to calling the <span class="xref">System.Threading.Semaphore.TryOpenExisting(System.String,System.Security.AccessControl.SemaphoreRights,System.Threading.Semaphore@)</span> method overload and specifying <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Synchronize">Synchronize</a> and <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights, combined by using the bitwise OR operation. Specifying the <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Synchronize">Synchronize</a> flag allows a thread to enter the semaphore, and specifying the   <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> flag allows a thread to call the <see cref="Overload:System.Threading.Semaphore.Release"></see> method. </p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">[SecurityCritical]
public static bool TryOpenExisting(string name, out Semaphore result)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><em>name</em></td>
                    <td></td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore">Semaphore</a></td>
                    <td><em>result</em></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.Boolean.html#System_Boolean">Boolean</a></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h5 id="System_Threading_Semaphore_TryOpenExisting_System_String_System_Threading_Semaphore___remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>If the named semaphore does not exist, this method does not create it. To create the system semaphore when it does not already exist, use one of the <span class="xref">System.Threading.Semaphore.</span> constructors that has a <em>name</em> parameter.</p>
<p>If you are uncertain whether a named semaphore exists, use this method overload instead of the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_OpenExisting_System_String_">OpenExisting(String)</a> method overload, which throws an exception if the semaphore does not exist.</p>
<p>This method overload is equivalent to calling the <span class="xref">System.Threading.Semaphore.TryOpenExisting(System.String,System.Security.AccessControl.SemaphoreRights,System.Threading.Semaphore@)</span> method overload and specifying <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Synchronize">Synchronize</a> and <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> rights, combined by using the bitwise OR operation. Specifying the <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Synchronize">Synchronize</a> flag allows a thread to enter the semaphore, and specifying the   <a class="xref" href="System.Security.AccessControl.SemaphoreRights.html#System_Security_AccessControl_SemaphoreRights_Modify">Modify</a> flag allows a thread to call the <see cref="Overload:System.Threading.Semaphore.Release"></see> method. </p>
</div>
              <h5 id="System_Threading_Semaphore_TryOpenExisting_System_String_System_Threading_Semaphore___examples">Examples</h5>
              
<p>The following code example creates a semaphore with a maximum count of three and an initial count of zero. The example starts five threads, which block waiting for the semaphore. The main thread uses the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release_System_Int32_">Release(Int32)</a> method overload to increase the semaphore count to its maximum, allowing three threads to enter the semaphore. Each thread uses the <see cref="Overload:System.Threading.Thread.Sleep"></see> method to wait for one second, to simulate work, and then calls the <a class="xref" href="System.Threading.Semaphore.html#System_Threading_Semaphore_Release">Release()</a> method overload to release the semaphore. Each time the semaphore is released, the previous semaphore count is displayed. Console messages track semaphore use. The simulated work interval is increased slightly for each thread, to make the output easier to read.</p>System.Threading.Semaphore2#1
              <h5 class="exceptions">Exceptions</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Condition</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.ArgumentException.html#System_ArgumentException">ArgumentException</a></td>
                    <td><p>
<em>name</em> is an empty string.</p>
<p>-or-</p>
<p>
<em>name</em> is longer than 260 characters.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.ArgumentNullException.html#System_ArgumentNullException">ArgumentNullException</a></td>
                    <td><p>
<em>name</em> is <strong>null</strong>.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.IO.IOException.html#System_IO_IOException">IOException</a></td>
                    <td><p>A Win32 error occurred.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="System.UnauthorizedAccessException.html#System_UnauthorizedAccessException">UnauthorizedAccessException</a></td>
                    <td><p>The named semaphore exists, but the user does not have the security access required to use it. </p>
</td>
                  </tr>
                </tbody>
              </table>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="inner-footer">
          <p>© .NET Foundation</p>
          <p>
            <a href="https://www.github.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-github fa-stack-1x"></span>
            </span></a>
            <a href="https://twitter.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-twitter fa-stack-1x"></span>
            </span></a>
            <a href="https://www.facebook.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-facebook fa-stack-1x"></span>
            </span></a>
      
          </p>
          </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
