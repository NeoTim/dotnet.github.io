<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class XmlChoiceIdentifierAttribute
   | CoreCLR site </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class XmlChoiceIdentifierAttribute
   | CoreCLR site ">
    
    <link rel="shortcut icon" href="../images/Logo_DotNet.png" type="image/x-icon">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/style.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-63735192-1', 'auto');
    ga('send', 'pageview');
    </script>
  </head>  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav class="navbar navbar-inverse">
             <div class="container">
               <a href="../"><img height="50px" src="../images/Logo_DotNet.png" style="float:right;"></a>
               <div class="navbar-header ">
                 <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                   <span class="sr-only">Toggle navigation</span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                   <span class="icon-bar"></span>
                 </button>
                 <a class="navbar-brand" href="../"><span class="dotnet">.NET Core</span></a>
               </div>
               <div id="navbar" class="collapse navbar-collapse">
               </div><!--/.nav-collapse -->
             </div>
           </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Serialization_XmlChoiceIdentifierAttribute.md&amp;value=---%0Auid%3A%20System.Xml.Serialization.XmlChoiceIdentifierAttribute%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="pull-right mobile-hide"><span class="fa fa-github"></span>Improve this Doc</a>
              <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XmlSerializer/ref/System.Xml.XmlSerializer.cs/#L113" class="pull-right mobile-hide">View Source</a>
              <h1 id="System_Xml_Serialization_XmlChoiceIdentifierAttribute" data-uid="System.Xml.Serialization.XmlChoiceIdentifierAttribute">Class XmlChoiceIdentifierAttribute
              </h1>
              <div class="markdown level0 summary"><p>Specifies that the member can be further detected by using an enumeration.</p>
</div>
              <div class="markdown level0 conceptual"></div>
              <div class="inheritance">
                <h5>Inheritance</h5>
                  <div class="level0"><a class="xref" href="System.Object.html#System_Object">Object</a></div>
                  <div class="level1"><span class="xref">XmlChoiceIdentifierAttribute</span></div>
              </div>
              <h6><strong>Namespace</strong>:System.Xml.Serialization</h6>
              <h6><strong>Assembly</strong>:System.Xml.XmlSerializer.dll</h6>
              <h5 id="System_Xml_Serialization_XmlChoiceIdentifierAttribute_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public class XmlChoiceIdentifierAttribute : Attribute</code></pre>
              </div>
              <h5 id="System_Xml_Serialization_XmlChoiceIdentifierAttribute_remarks"><strong>Remarks</strong></h5>
              <div class="markdown level0 remarks"><p>The XML schema element definition named <strong>xsi:choice</strong> is used to define a complex element that can contain only one child in an instance (maxoccurs = 1). That child can be one of several types, and it can have one of several names. Each name is associated with a specific type; however, several names can be associated with the same type. Because of this, an instance of such an element is indistinct. For example, consider the following schema fragment that defines such an indistinct element named <strong>MyChoice</strong>.</p>
<pre><code> <xsd:complextype name="MyChoice">
<xsd:sequence>
<xsd:choice minoccurs="0" maxoccurs="1">
<xsd:element minoccurs="1" maxoccurs="1" name="ChoiceOne" type="xsd:string"></xsd:element>
<xsd:element minoccurs="1" maxoccurs="1" name="ChoiceTwo" type="xsd:string"></xsd:element>
</xsd:choice>
</xsd:sequence>
</xsd:complextype></code></pre>
<p>The <a class="xref" href="System.Xml.Serialization.XmlChoiceIdentifierAttribute.html#System_Xml_Serialization_XmlChoiceIdentifierAttribute">XmlChoiceIdentifierAttribute</a> allows you to assign a special enumeration value to each instance of the member. You must either create the enumeration yourself or it can be generated by the XML Schema Definition Tool (Xsd.exe). The following C# code shows how the <a class="xref" href="System.Xml.Serialization.XmlChoiceIdentifierAttribute.html#System_Xml_Serialization_XmlChoiceIdentifierAttribute">XmlChoiceIdentifierAttribute</a> is applied to an <strong>Item</strong> field; the <a class="xref" href="System.Xml.Serialization.XmlChoiceIdentifierAttribute.html#System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName">MemberName</a> property identifies the field that contains the enumeration that is further used to detect the choice.</p>
<pre><code> public class Choices{
[XmlChoiceIdentifier("ItemType")]
[XmlChoiceIdentifier("ChoiceOne")]
[XmlChoiceIdentifier("ChoiceTwo")]
public string MyChoice;

// Do not serialize this next field:
[XmlIgnore]
public ItemChoiceType ItemType;
}
// Do not include this enumeration in the XML schema.
[XmlType(IncludeInSchema = false)]
public enum ItemChoiceType{
ChoiceOne,
ChoiceTwo,
}</code></pre>
<p>When this code is in place, you can serialize and deserialize this class by setting the <strong>ItemType</strong> field to an appropriate enumeration. For example, to serialize the <strong>Choice</strong> class, the C# code resembles the following.</p>
<pre><code> Choices mc = new Choices();
mc.MyChoice = "Item Choice One";
mc.ItemType = ItemChoiceType.ChoiceOne;</code></pre>
<p>When deserializing, the C# code resembles the following: </p>
<pre><code> MyChoice mc = (MyChoice) myXmlSerializer.Deserialize(myReader);
if(mc.ItemType == ItemChoiceType.ChoiceOne)
{
// Handle choice one.
}
if(mc.ItemType == ItemChoiceType.ChoiceTwo)
{
// Handle choice two.
}
if(mc.ItemType != null)
{
throw CreateUnknownTypeException(mc.Item);
}</code></pre>
<p>There is a second scenario when the <a class="xref" href="System.Xml.Serialization.XmlChoiceIdentifierAttribute.html#System_Xml_Serialization_XmlChoiceIdentifierAttribute">XmlChoiceIdentifierAttribute</a> is used. In the following schema, the member is a field that returns an array of items (maxOccurs=&quot;unbounded&quot;). The array can contain objects of the first choice (&quot;D-a-t-a&quot;), and of the second choice (&quot;MoreData&quot;).</p>
<pre><code> <xsd:complextype name="MyChoice">
<xsd:sequence>
<xsd:choice minoccurs="0" maxoccurs="unbounded">
<xsd:element minoccurs="1" maxoccurs="1" name="D-a-t-a" type="xsd:string"></xsd:element>
<xsd:element minoccurs="1" maxoccurs="1" name="MoreData" type="xsd:string"></xsd:element>
</xsd:choice>
</xsd:sequence>
</xsd:complextype></code></pre>
<p>The resulting class then uses a field to return an array of items. For each item in the array, a corresponding <code>ItemChoiceType</code> enumeration must also be found. The matching enumerations are contained in the array returned by the <code>ItemsElementName</code> field.</p>
<pre><code> public class MyChoice {
[System.Xml.Serialization.XmlElementAttribute("D-a-t-a", typeof(string), IsNullable=false)]
[System.Xml.Serialization.XmlElementAttribute("MoreData", typeof(string), IsNullable=false)]
[System.Xml.Serialization.XmlChoiceIdentifierAttribute("ItemsElementName")]
public string[] Items;
[System.Xml.Serialization.XmlElementAttribute(IsNullable=false)]
[System.Xml.Serialization.XmlIgnoreAttribute()]
public ItemsChoiceType[] ItemsElementName;
}
[System.Xml.Serialization.XmlTypeAttribute(IncludeInSchema=false)]
public enum ItemsChoiceType {
[System.Xml.Serialization.XmlEnumAttribute("D-a-t-a")]
Data,
MoreData,
}</code></pre>
<p>When deserializing an object that includes a range of choices, use a control structure (such as an if...then...else structure) to determine how to deserialize a particular value. In the control structure, check the enumeration value and deserialize the value accordingly.</p>
</div>
              <h3 id="constructors">Constructors
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor.md&amp;value=---%0Auid%3A%20System.Xml.Serialization.XmlChoiceIdentifierAttribute.%23ctor%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XmlSerializer/ref/System.Xml.XmlSerializer.cs/#L116">View Source</a>
              </span>
              <h4 id="System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor" data-uid="System.Xml.Serialization.XmlChoiceIdentifierAttribute.#ctor">XmlChoiceIdentifierAttribute()</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Xml.Serialization.XmlChoiceIdentifierAttribute.html#System_Xml_Serialization_XmlChoiceIdentifierAttribute">XmlChoiceIdentifierAttribute</a> class.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public XmlChoiceIdentifierAttribute()</code></pre>
              </div>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor_System_String_.md&amp;value=---%0Auid%3A%20System.Xml.Serialization.XmlChoiceIdentifierAttribute.%23ctor(System.String)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XmlSerializer/ref/System.Xml.XmlSerializer.cs/#L117">View Source</a>
              </span>
              <h4 id="System_Xml_Serialization_XmlChoiceIdentifierAttribute__ctor_System_String_" data-uid="System.Xml.Serialization.XmlChoiceIdentifierAttribute.#ctor(System.String)">XmlChoiceIdentifierAttribute(String)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="System.Xml.Serialization.XmlChoiceIdentifierAttribute.html#System_Xml_Serialization_XmlChoiceIdentifierAttribute">XmlChoiceIdentifierAttribute</a> class.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public XmlChoiceIdentifierAttribute(string name)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><em>name</em></td>
                    <td><p>The member name that returns the enumeration used to detect a choice. </p>
</td>
                  </tr>
                </tbody>
              </table>
              <h3 id="properties">Properties
              </h3>
              <span class="small pull-right mobile-hide">
                <span class="divider">|</span>
                <a href="https://github.com/dotnet/core-docs/new/master/apispec/new?filename=System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName.md&amp;value=---%0Auid%3A%20System.Xml.Serialization.XmlChoiceIdentifierAttribute.MemberName%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
              </span>
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/dotnet/corefx/blob/master/src/System.Xml.XmlSerializer/ref/System.Xml.XmlSerializer.cs/#L118">View Source</a>
              </span>
              <h4 id="System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName" data-uid="System.Xml.Serialization.XmlChoiceIdentifierAttribute.MemberName">MemberName</h4>
              <div class="markdown level1 summary"><p>Gets or sets the name of the field that returns the enumeration to use when detecting types.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 id="System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName_remarks">Remarks</h5>
              <div class="markdown level1 remarks"><p>At least one member must be present in the enumeration returned by the field named in the <a class="xref" href="System.Xml.Serialization.XmlChoiceIdentifierAttribute.html#System_Xml_Serialization_XmlChoiceIdentifierAttribute_MemberName">MemberName</a> value. By default, that enumeration name takes the name of the field that the <a class="xref" href="System.Xml.Serialization.XmlChoiceIdentifierAttribute.html#System_Xml_Serialization_XmlChoiceIdentifierAttribute">XmlChoiceIdentifierAttribute</a> is applied to.</p>
</div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public string MemberName { get; set; }</code></pre>
              </div>
              <h5 class="propertyValue"></h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="System.String.html#System_String">String</a></td>
                    <td><p>The name of a field that returns an enumeration.</p>
</td>
                  </tr>
                </tbody>
              </table>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="inner-footer">
          <p>© .NET Foundation</p>
          <p>
            <a href="https://www.github.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-github fa-stack-1x"></span>
            </span></a>
            <a href="https://twitter.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-twitter fa-stack-1x"></span>
            </span></a>
            <a href="https://www.facebook.com/dotnet" target="_blank"><span class="fa fa-stack fa-lg">
              <span class="fa fa-square-o fa-stack-2x"></span>
              <span class="fa fa-facebook fa-stack-1x"></span>
            </span></a>
      
          </p>
          </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
